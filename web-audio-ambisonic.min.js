!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,r.webAudioAmbisonic=e()}}(function(){var define,module,exports;return function e(r,t,n){function i(u,a){if(!t[u]){if(!r[u]){var s="function"==typeof require&&require;if(!a&&s)return s(u,!0);if(o)return o(u,!0);var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}var f=t[u]={exports:{}};r[u][0].call(f.exports,function(e){var t=r[u][1][e];return i(t?t:e)},f,f.exports,e,r,t,n)}return t[u].exports}for(var o="function"==typeof require&&require,u=0;u<n.length;u++)i(n[u]);return i}({1:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.fftSize=2048,this.analysers=new Array(4),this.analBuffers=new Array(4),this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4);for(var t=0;t<4;t++)this.analysers[t]=this.ctx.createAnalyser(),this.analysers[t].fftSize=this.fftSize,this.analysers[t].smoothingTimeConstant=0,this.analBuffers[t]=new Float32Array(this.fftSize);for(var n=0;n<4;n++)this["in"].connect(this.out,n,n),this["in"].connect(this.analysers[n],n,0);this.initialized=!0}return(0,a["default"])(e,[{key:"updateBuffers",value:function(){for(var e=0;e<4;e++)this.analysers[e].getFloatTimeDomainData(this.analBuffers[e])}},{key:"computeIntensity",value:function(){for(var e,r,t,n,i,o,u=0,a=0,s=0,c=0,f=0,h=0,l=0,m=0;m<this.fftSize;m++)u+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[1][m],a+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[2][m],s+=Math.sqrt(2)*this.analBuffers[0][m]*this.analBuffers[3][m],c+=2*this.analBuffers[0][m]*this.analBuffers[0][m],f+=this.analBuffers[1][m]*this.analBuffers[1][m],h+=this.analBuffers[2][m]*this.analBuffers[2][m],l+=this.analBuffers[3][m]*this.analBuffers[3][m];e=[u,a,s],r=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]),t=(c+f+h+l)/2,n=1-r/(t+1e-7),i=180*Math.atan2(a,u)/Math.PI,o=180*Math.atan2(e[2],Math.sqrt(e[0]*e[0]+e[1]*e[1]))/Math.PI;var d=[i,o,n,t];return d}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],2:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.decFilters=new Array(4),this.decFilterNodes=new Array(4),this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(2),this.gainMid=this.ctx.createGain(),this.gainSide=this.ctx.createGain(),this.invertSide=this.ctx.createGain(),this.gainMid.gain.value=1,this.gainSide.gain.value=1,this.invertSide.gain.value=-1;for(var t=0;t<4;t++)this.decFilterNodes[t]=this.ctx.createConvolver(),this.decFilterNodes[t].normalize=!1;this.resetFilters();for(var t=0;t<4;t++)this["in"].connect(this.decFilterNodes[t],t,0),2==t?this.decFilterNodes[t].connect(this.gainSide,0,0):this.decFilterNodes[t].connect(this.gainMid,0,0);this.gainMid.connect(this.out,0,0),this.gainSide.connect(this.out,0,0),this.gainMid.connect(this.out,0,1),this.gainSide.connect(this.invertSide,0,0),this.invertSide.connect(this.out,0,1),this.initialized=!0}return(0,a["default"])(e,[{key:"updateFilters",value:function(e){for(var r=0;r<4;r++)this.decFilters[r]=this.ctx.createBuffer(1,e.length,e.sampleRate),this.decFilters[r].getChannelData(0).set(e.getChannelData(r)),this.decFilterNodes[r].buffer=this.decFilters[r]}},{key:"resetFilters",value:function(){for(var e=[.5*Math.SQRT2,0,.5,0],r=0;r<4;r++)this.decFilters[r]=this.ctx.createBuffer(1,1,this.ctx.sampleRate),this.decFilters[r].getChannelData(0).set([e[r]]),this.decFilterNodes[r].buffer=this.decFilters[r]}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],3:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.azi=0,this.elev=0,this.gainNodes=new Array(4),this["in"]=this.ctx.createGain(),this.out=this.ctx.createChannelMerger(4),this.gains=[Math.SQRT1_2,1,0,0];for(var t=0;t<4;t++)this.gainNodes[t]=this.ctx.createGain(),this.gainNodes[t].gain.value=this.gains[t];for(var n=0;n<4;n++)this["in"].connect(this.gainNodes[n]),this.gainNodes[n].connect(this.out,0,n);this.initialized=!0}return(0,a["default"])(e,[{key:"updateGains",value:function(){var e=this.azi*Math.PI/180,r=this.elev*Math.PI/180;this.gains[1]=Math.cos(e)*Math.cos(r),this.gains[2]=Math.sin(e)*Math.cos(r),this.gains[3]=Math.sin(r);for(var t=1;t<4;t++)this.gainNodes[t].gain.value=this.gains[t]}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],4:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.yaw=0,this.pitch=0,this.roll=0,this.rotMtx=[[],[],[]],this.rotMtxNodes=[[],[],[]],this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4);for(var t=0;t<3;t++)for(var n=0;n<3;n++)this.rotMtxNodes[t][n]=context.createGain(),t==n?this.rotMtxNodes[t][n].gain.value=1:this.rotMtxNodes[t][n].gain.value=0;this["in"].connect(this.out,0,0);for(var i=0;i<3;i++)for(var u=0;u<3;u++)this["in"].connect(this.rotMtxNodes[i][u],u+1,0),this.rotMtxNodes[i][u].connect(this.out,0,i+1);this.initialized=!0}return(0,a["default"])(e,[{key:"updateRotMtx",value:function(){var e,r,t,n,i,o,u,a,s,c=this.yaw*Math.PI/180,f=this.pitch*Math.PI/180,h=this.roll*Math.PI/180;e=Math.cos(f)*Math.cos(c),r=Math.cos(f)*Math.sin(c),t=-Math.sin(f),n=Math.cos(c)*Math.sin(f)*Math.sin(h)-Math.cos(h)*Math.sin(c),i=Math.cos(h)*Math.cos(c)+Math.sin(f)*Math.sin(h)*Math.sin(c),o=Math.cos(f)*Math.sin(h),u=Math.sin(h)*Math.sin(c)+Math.cos(h)*Math.cos(c)*Math.sin(f),a=Math.cos(h)*Math.sin(f)*Math.sin(c)-Math.cos(c)*Math.sin(h),s=Math.cos(f)*Math.cos(h),this.rotMtx=[[e,r,t],[n,i,o],[u,a,s]];for(var l=0;l<3;l++)for(var m=0;m<3;m++)this.rotMtxNodes[l][m].gain.value=this.rotMtx[l][m]}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],5:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.azi=0,this.elev=0,this.vmicGainNodes=new Array(4),this.vmicCoeff=.5,this.vmicPattern="cardioid",this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createGain(),this.vmicGains=[.5*Math.SQRT2,.5,0,0];for(var t=0;t<4;t++)this.vmicGainNodes[t]=this.ctx.createGain(),this.vmicGainNodes[t].gain.value=this.vmicGains[t];for(this.xyz=[1,0,0],t=0;t<4;t++)this["in"].connect(this.vmicGainNodes[t],t,0),this.vmicGainNodes[t].connect(this.out);this.initialized=!0}return(0,a["default"])(e,[{key:"updatePattern",value:function(){switch(this.vmicPattern){case"subcardioid":this.vmicCoeff=2/3;break;case"cardioid":this.vmicCoeff=.5;break;case"supercardioid":this.vmicCoeff=(Math.sqrt(3)-1)/2;break;case"hypercardioid":this.vmicCoeff=.25;break;case"dipole":this.vmicCoeff=0;break;default:this.vmicPattern="cardioid",this.vmicCoeff=.5}this.updateGains()}},{key:"updateOrientation",value:function(){var e=this.azi*Math.PI/180,r=this.elev*Math.PI/180;this.xyz[0]=Math.cos(e)*Math.cos(r),this.xyz[1]=Math.sin(e)*Math.cos(r),this.xyz[2]=Math.sin(r),this.updateGains()}},{key:"updateGains",value:function(){var e=this.vmicCoeff,r=this.xyz;this.vmicGains[0]=e*Math.SQRT2,this.vmicGains[1]=(1-e)*r[0],this.vmicGains[2]=(1-e)*r[1],this.vmicGains[3]=(1-e)*r[2];for(var t=0;t<4;t++)this.vmicGainNodes[t].gain.value=this.vmicGains[t]}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],6:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r,t){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.order=t,this.nCh=(t+1)*(t+1),this.fftSize=2048,this.analysers=new Array(this.nCh),this.analBuffers=new Array(this.nCh),this["in"]=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh);for(var n=0;n<this.nCh;n++)this.analysers[n]=this.ctx.createAnalyser(),this.analysers[n].fftSize=this.fftSize,this.analysers[n].smoothingTimeConstant=0,this.analBuffers[n]=new Float32Array(this.fftSize);for(var i=0;i<this.nCh;i++)this["in"].connect(this.out,i,i),this["in"].connect(this.analysers[i],i,0);this.initialized=!0}return(0,a["default"])(e,[{key:"updateBuffers",value:function(){for(var e=0;e<this.nCh;e++)this.analysers[e].getFloatTimeDomainData(this.analBuffers[e])}},{key:"computeIntensity",value:function(){for(var e,r,t,n,i,o=new Array(this.nCh).fill(0),u=new Array(this.nCh).fill(0),a=0;a<this.fftSize;a++)for(var s=0;s<this.nCh;s++)0==s?u[s]+=2*this.analBuffers[s][a]*this.analBuffers[s][a]:(u[s]+=this.analBuffers[s][a]*this.analBuffers[s][a],o[s]+=Math.sqrt(2)*this.analBuffers[0][a]*this.analBuffers[s][a]);for(var c=0,f=0,h=0;h<o.length;h++)0!=h&&(c+=o[h]*o[h]),f+=u[h];e=Math.sqrt(c),r=f/2,t=1-e/(r+1e-7),n=180*Math.atan2(o[1],o[3])/Math.PI,i=180*Math.atan2(o[2],Math.sqrt(o[1]*o[1]+o[3]*o[3]))/Math.PI;var l=[n,i,t,r];return l}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],7:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.HOA_fuma2acn=t.HOA_acn2bf=t.HOA_bf2acn=void 0;var i=e("babel-runtime/helpers/classCallCheck"),o=n(i);t.HOA_bf2acn=function u(e){(0,o["default"])(this,u),this.ctx=e,this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4),this.gains=[];for(var r=0;r<4;r++)this.gains[r]=this.ctx.createGain(),0==r?this.gains[r].gain.value=Math.SQRT2:this.gains[r].gain.value=Math.sqrt(3),this.gains[r].connect(this.out,0,r);this["in"].connect(this.gains[0],0,0),this["in"].connect(this.gains[3],1,0),this["in"].connect(this.gains[1],2,0),this["in"].connect(this.gains[2],3,0)},t.HOA_acn2bf=function a(e){(0,o["default"])(this,a),this.ctx=e,this["in"]=this.ctx.createChannelSplitter(4),this.out=this.ctx.createChannelMerger(4),this.gains=[];for(var r=0;r<4;r++)this.gains[r]=this.ctx.createGain(),0==r?this.gains[r].gain.value=Math.SQRT1_2:this.gains[r].gain.value=1/Math.sqrt(3),this.gains[r].connect(this.out,0,r);this["in"].connect(this.gains[0],0,0),this["in"].connect(this.gains[2],1,0),this["in"].connect(this.gains[3],2,0),this["in"].connect(this.gains[1],3,0)},t.HOA_fuma2acn=function s(e,r){(0,o["default"])(this,s),this.ctx=e,this.order=r,this.nCh=(r+1)*(r+1),this["in"]=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh),this.gains=[],this.remapArray=[],this.remapArray.push(0,2,3,1);for(var t,n=0,i=0;i<this.nCh;i++)if(t=[],i>=(n+1)*(n+1)){n+=1;for(var u=(n+1)*(n+1);u<(n+2)*(n+2);u++)(u+n%2)%2==0?t.push(u):t.unshift(u);this.remapArray=this.remapArray.concat(t)}for(var i=0;i<this.nCh;i++)this.gains[i]=this.ctx.createGain(),this["in"].connect(this.gains[i],this.remapArray[i],0),this.gains[i].connect(this.out,0,i)}},{"babel-runtime/helpers/classCallCheck":20}],8:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r,t){(0,o["default"])(this,e),this.initialized=!1,this.ctx=r,this.order=t,this.nCh=(t+1)*(t+1),this.decFilters=new Array(this.nCh),this.decFilterNodes=new Array(this.nCh),this["in"]=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(2),this.gainMid=this.ctx.createGain(),this.gainSide=this.ctx.createGain(),this.invertSide=this.ctx.createGain(),this.gainMid.gain.value=1,this.gainSide.gain.value=1,this.invertSide.gain.value=-1;for(var n=0;n<this.nCh;n++)this.decFilterNodes[n]=this.ctx.createConvolver(),this.decFilterNodes[n].normalize=!1;this.resetFilters();for(var n=0;n<this.nCh;n++){this["in"].connect(this.decFilterNodes[n],n,0);var i=Math.floor(Math.sqrt(n)),u=n-i*i-i;u>=0?this.decFilterNodes[n].connect(this.gainMid):this.decFilterNodes[n].connect(this.gainSide)}this.gainMid.connect(this.out,0,0),this.gainSide.connect(this.out,0,0),this.gainMid.connect(this.out,0,1),this.gainSide.connect(this.invertSide,0,0),this.invertSide.connect(this.out,0,1),this.initialized=!0}return(0,a["default"])(e,[{key:"updateFilters",value:function(e){for(var r=0;r<this.nCh;r++)this.decFilters[r]=this.ctx.createBuffer(1,e.length,e.sampleRate),this.decFilters[r].getChannelData(0).set(e.getChannelData(r)),this.decFilterNodes[r].buffer=this.decFilters[r]}},{key:"resetFilters",value:function(){var e=new Array(this.nCh);e.fill(0),e[0]=.5,e[1]=.5/Math.sqrt(3);for(var r=0;r<this.nCh;r++)this.decFilters[r]=this.ctx.createBuffer(1,1,this.ctx.sampleRate),this.decFilters[r].getChannelData(0).set([e[r]]),this.decFilterNodes[r].buffer=this.decFilters[r]}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],9:[function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),u=i(o),a=e("babel-runtime/helpers/createClass"),s=i(a),c=e("./jsh-lib"),f=n(c),h=function(){function e(r,t){(0,u["default"])(this,e),this.initialized=!1,this.ctx=r,this.order=t,this.nCh=(t+1)*(t+1),this.azi=0,this.elev=0,this.gains=new Array(this.nCh),this.gainNodes=new Array(this.nCh),this["in"]=this.ctx.createGain(),this["in"].channelCountMode="explicit",this["in"].channelCount=1,this.out=this.ctx.createChannelMerger(this.nCh);for(var n=0;n<this.nCh;n++)this.gainNodes[n]=this.ctx.createGain(),this.gainNodes[n].channelCountMode="explicit",this.gainNodes[n].channelCount=1;this.updateGains();for(var n=0;n<this.nCh;n++)this["in"].connect(this.gainNodes[n]),this.gainNodes[n].connect(this.out,0,n);this.initialized=!0}return(0,s["default"])(e,[{key:"updateGains",value:function(){for(var e=this.order,r=f.computeRealSH(e,[[this.azi*Math.PI/180,this.elev*Math.PI/180]]),t=0;t<this.nCh;t++)this.gains[t]=r[t][0],this.gainNodes[t].gain.value=this.gains[t]}}]),e}();t["default"]=h},{"./jsh-lib":15,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],10:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r,t,n){(0,o["default"])(this,e),this.ctx=r,this.orderIn=t,n<t?this.orderOut=n:this.orderOut=t,this.nChIn=(this.orderIn+1)*(this.orderIn+1),this.nChOut=(this.orderOut+1)*(this.orderOut+1),this["in"]=this.ctx.createChannelSplitter(this.nChIn),this.out=this.ctx.createChannelMerger(this.nChOut);for(var i=0;i<this.nChOut;i++)this["in"].connect(this.out,i,i)}return(0,a["default"])(e,[{key:"updateOrder",value:function(e){if(e<=this.orderIn){this.orderOut=e,this.nChOut=(this.orderOut+1)*(this.orderOut+1),this.out.disconnect(),this.out=this.ctx.createChannelMerger(this.nChOut);for(var r=0;r<this.nChOut;r++)this["in"].connect(this.out,r,r)}}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],11:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=e("babel-runtime/helpers/classCallCheck"),o=n(i),u=e("babel-runtime/helpers/createClass"),a=n(u),s=function(){function e(r,t,n,i){function u(e,r){return("000000000"+e).substr(-r)}(0,o["default"])(this,e),this.context=r,this.order=t,this.nCh=(t+1)*(t+1),this.nChGroups=Math.ceil(this.nCh/8),this.buffers=new Array,this.loadCount=0,this.loaded=!1,this.onLoad=i,this.urls=new Array(this.nChGroups);for(var a=n.slice(n.length-3,n.length),s=0;s<this.nChGroups;s++)s==this.nChGroups-1?this.urls[s]=n.slice(0,n.length-4)+"_"+u(8*s+1,2)+"-"+u(this.nCh,2)+"ch."+a:this.urls[s]=n.slice(0,n.length-4)+"_"+u(8*s+1,2)+"-"+u(8*s+8,2)+"ch."+a}return(0,a["default"])(e,[{key:"loadBuffers",value:function(e,r){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer";var n=this;t.onload=function(){n.context.decodeAudioData(t.response,function(t){return t?(n.buffers[r]=t,n.loadCount++,void(n.loadCount==n.nChGroups&&(n.loaded=!0,n.concatBuffers(),console.log("HOAloader: all buffers loaded and concatenated"),n.onLoad(n.concatBuffer)))):void alert("error decoding file data: "+e)},function(e){console.error("decodeAudioData error",e)})},t.onerror=function(){alert("HOAloader: XHR error")},t.send()}},{key:"load",value:function(){for(var e=0;e<this.nChGroups;++e)this.loadBuffers(this.urls[e],e)}},{key:"concatBuffers",value:function(){if(this.loaded){var e=this.nCh,r=this.nChGroups,t=this.buffers[0].length,n=this.buffers[0].sampleRate;this.concatBuffer=this.context.createBuffer(e,t,n);for(var i=0;i<r;i++)for(var o=0;o<this.buffers[i].numberOfChannels;o++)this.concatBuffer.getChannelData(8*i+o).set(this.buffers[i].getChannelData(o))}}}]),e}();t["default"]=s},{"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],12:[function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),u=i(o),a=e("babel-runtime/helpers/createClass"),s=i(a),c=e("./jsh-lib"),f=n(c),h=function(){function e(r,t){(0,u["default"])(this,e),this.ctx=r,this.order=t,this.nCh=(t+1)*(t+1),this.yaw=0,this.pitch=0,this.roll=0,this.rotMtx=numeric.identity(this.nCh),this.rotMtxNodes=new Array(this.order),this["in"]=null,this.out=null,this.initialized=!1}return(0,s["default"])(e,[{key:"updateRotMtx",value:function(){if(this.initialized){var e=this.yaw*Math.PI/180,r=this.pitch*Math.PI/180,t=this.roll*Math.PI/180;this.rotMtx=f.getSHrotMtx(f.yawPitchRoll2Rzyx(e,r,t),this.order);for(var n=1,i=1;i<this.order+1;i++){for(var o=0;o<2*i+1;o++)for(var u=0;u<2*i+1;u++)this.rotMtxNodes[i-1][o][u].gain.value=this.rotMtx[n+o][n+u];n=n+2*i+1}}}},{key:"init",value:function(){if(!this.initialized){this["in"]=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createChannelMerger(this.nCh);for(var e=1;e<this.order+1;e++){for(var r=new Array(2*e+1),t=0;t<2*e+1;t++){r[t]=new Array(2*e+1);for(var n=0;n<2*e+1;n++)r[t][n]=this.ctx.createGain(),t==n?r[t][n].gain.value=1:r[t][n].gain.value=0}this.rotMtxNodes[e-1]=r}this["in"].connect(this.out,0,0);for(var i=1,o=1;o<this.order+1;o++){for(var u=0;u<2*o+1;u++)for(var a=0;a<2*o+1;a++)this["in"].connect(this.rotMtxNodes[o-1][u][a],i+a,0),this.rotMtxNodes[o-1][u][a].connect(this.out,0,i+u);i=i+2*o+1}this.initialized=!0}}}]),e}();t["default"]=h},{"./jsh-lib":15,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],13:[function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=e("babel-runtime/helpers/classCallCheck"),u=i(o),a=e("babel-runtime/helpers/createClass"),s=i(a),c=e("./jsh-lib"),f=n(c),h=function(){function e(r,t){(0,u["default"])(this,e),this.initialized=!1,this.ctx=r,this.order=t,this.nCh=(t+1)*(t+1),this.azi=0,this.elev=0,this.vmicGains=new Array(this.nCh),this.vmicGainNodes=new Array(this.nCh),this.vmicCoeffs=new Array(this.order+1),this.vmicPattern="hypercardioid",this["in"]=this.ctx.createChannelSplitter(this.nCh),this.out=this.ctx.createGain();for(var n=0;n<this.nCh;n++)this.vmicGainNodes[n]=this.ctx.createGain();for(this.SHxyz=new Array(this.nCh),this.SHxyz.fill(0),this.updatePattern(),this.updateOrientation(),n=0;n<this.nCh;n++)this["in"].connect(this.vmicGainNodes[n],n,0),this.vmicGainNodes[n].connect(this.out);this.initialized=!0}return(0,s["default"])(e,[{key:"updatePattern",value:function(){function e(e){for(var r=new Array(e+1),t=0;t<e+1;t++)r[t]=Math.sqrt(2*t+1)*f.factorial(e)*f.factorial(e+1)/(f.factorial(e+t+1)*f.factorial(e-t))/(e+1);return r}function r(e){var r=new Array(e+1);return r.fill(1),r}function t(e){var r=new Array(e+1);r[0]=1;for(var t=0,n=0,i=0,o=1;o<e+1;o++)i=f.recurseLegendrePoly(o,[Math.cos(2.406809/(e+1.51))],t,n),r[o]=i[0][0],n=t,t=i;return r}switch(this.vmicPattern){case"cardioid":this.vmicCoeffs=e(this.order);break;case"supercardioid":break;case"hypercardioid":this.vmicCoeffs=r(this.order);break;case"max_rE":this.vmicCoeffs=t(this.order);break;default:this.vmicPattern="hypercardioid",this.vmicCoeffs=r(this.order)}this.updateGains()}},{key:"updateOrientation",value:function(){for(var e=this.azi*Math.PI/180,r=this.elev*Math.PI/180,t=f.computeRealSH(this.order,[[e,r]]),n=1;n<this.nCh;n++)this.SHxyz[n]=t[n][0];this.updateGains()}},{key:"updateGains",value:function(){for(var e,r=0;r<this.order+1;r++)for(var t=-this.order;t<this.order+1;t++)e=r*r+r+t,this.vmicGains[e]=1/Math.sqrt(2*r+1)*this.vmicCoeffs[r]*this.SHxyz[e];for(var n=1;n<this.nCh;n++)this.vmicGainNodes[n].gain.value=this.vmicGains[n]}}]),e}();t["default"]=h},{"./jsh-lib":15,"babel-runtime/helpers/classCallCheck":20,"babel-runtime/helpers/createClass":21}],14:[function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Bformat_analyser=t.Bformat_binDecoder=t.Bformat_vmic=t.Bformat_rotator=t.Bformat_encoder=t.hoa_converters=t.HOAloader=t.HOA_analyser=t.HOA_vmic=t.HOA_binDecoder=t.HOA_rotator=t.HOA_orderLimiter=t.HOA_encoder=t.jshlib=void 0;var o=e("./hoa-encoder");Object.defineProperty(t,"HOA_encoder",{enumerable:!0,get:function(){return i(o)["default"]}});var u=e("./hoa-limiter");Object.defineProperty(t,"HOA_orderLimiter",{enumerable:!0,get:function(){return i(u)["default"]}});var a=e("./hoa-rotator");Object.defineProperty(t,"HOA_rotator",{enumerable:!0,get:function(){return i(a)["default"]}});var s=e("./hoa-decoderBin");Object.defineProperty(t,"HOA_binDecoder",{enumerable:!0,get:function(){return i(s)["default"]}});var c=e("./hoa-virtualMic");Object.defineProperty(t,"HOA_vmic",{enumerable:!0,get:function(){return i(c)["default"]}});var f=e("./hoa-analyser");Object.defineProperty(t,"HOA_analyser",{enumerable:!0,get:function(){return i(f)["default"]}});var h=e("./hoa-loader");Object.defineProperty(t,"HOAloader",{enumerable:!0,get:function(){return i(h)["default"]}});var l=e("./foa-encoder");Object.defineProperty(t,"Bformat_encoder",{enumerable:!0,get:function(){return i(l)["default"]}});var m=e("./foa-rotator");Object.defineProperty(t,"Bformat_rotator",{enumerable:!0,get:function(){return i(m)["default"]}});var d=e("./foa-virtualMic");Object.defineProperty(t,"Bformat_vmic",{enumerable:!0,get:function(){return i(d)["default"]}});var p=e("./foa-decoderBin");Object.defineProperty(t,"Bformat_binDecoder",{enumerable:!0,get:function(){return i(p)["default"]}});var y=e("./foa-analyser");Object.defineProperty(t,"Bformat_analyser",{enumerable:!0,get:function(){return i(y)["default"]}});var v=e("./jsh-lib"),g=n(v),b=e("./hoa-converters"),_=n(b);t.jshlib=g,t.hoa_converters=_},{"./foa-analyser":1,"./foa-decoderBin":2,"./foa-encoder":3,"./foa-rotator":4,"./foa-virtualMic":5,"./hoa-analyser":6,"./hoa-converters":7,"./hoa-decoderBin":8,"./hoa-encoder":9,"./hoa-limiter":10,"./hoa-loader":11,"./hoa-rotator":12,"./hoa-virtualMic":13,"./jsh-lib":15}],15:[function(e,r,t){"use strict";function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r["default"]=e,r}function i(e,r,t,n){var i,o=r.length,u=(e+1)*(e+1),s=[,];u>o&&console.log("The SHT degree is too high for the number of data points"),0==t&&(r=a(r));for(var f=0;f<r.length;f++)s[f]=r[f][0];Y_N=c(e,r),i=0==n?x.mul(1/o,Y_N):m(x.transpose(Y_N));var h=x.dotMV(i,s);return h}function o(e,r){for(var t=r,n=Math.sqrt(e.length)-1,i=c(n,r),o=x.dotVM(e,i),u=0;u<r.length;u++)t[u][2]=o[u];return t}function u(e){for(var r=0;r<e.length;r++)console.log(e[r])}function a(e,r){for(var t,n,i,o=new Array(e.length),u=0;u<e.length;u++)t=Math.atan2(e[u][1],e[u][0]),n=Math.atan2(e[u][2],Math.sqrt(e[u][0]*e[u][0]+e[u][1]*e[u][1])),1==r?o[u]=[t,n]:(i=Math.sqrt(e[u][0]*e[u][0]+e[u][1]*e[u][1]+e[u][2]*e[u][2]),o[u]=[t,n,i]);return o}function s(e){for(var r,t,n,i=new Array(e.length),o=0;o<e.length;o++)r=Math.cos(e[o][0])*Math.cos(e[o][1]),t=Math.sin(e[o][0])*Math.cos(e[o][1]),n=Math.sin(e[o][1]),2==e[0].length?i[o]=[r,t,n]:3==e[0].length&&(i[o]=[e[o][2]*r,e[o][2]*t,e[o][2]*n]);return i}function c(e,r){for(var t=new Array(r.length),n=new Array(r.length),i=0;i<r.length;i++)t[i]=r[i][0],n[i]=r[i][1];for(var o,u,a,s,c,l=new Array(2*e+1),m=(t.length,(e+1)*(e+1)),d=0,p=0,y=x.sin(n),v=0,g=new Array(m),i=0;i<2*e+1;i++)l[i]=f(i);for(var b=0;b<e+1;b++){if(0==b){var _=new Array(t.length);_.fill(1),g[b]=_,v=1}else{o=h(b,y,d,p),u=Math.sqrt(2*b+1);for(var M=0;M<b+1;M++)0==M?g[v+b]=x.mul(u,o[M]):(a=u*Math.sqrt(2*l[b-M]/l[b+M]),s=x.cos(x.mul(M,t)),c=x.sin(x.mul(M,t)),g[v+b-M]=x.mul(a,x.mul(o[M],c)),g[v+b+M]=x.mul(a,x.mul(o[M],s)));v=v+2*b+1}p=d,d=o}return g}function f(e){return 0===e?1:e*f(e-1)}function h(e,r,t,n){var i=new Array(e+1);switch(e){case 1:var o=x.mul(r,r),u=r,a=x.sqrt(x.sub(1,o));i[0]=u,i[1]=a;break;case 2:var o=x.mul(r,r),s=x.mul(3,o);s=x.sub(s,1),s=x.div(s,2);var c=x.sub(1,o);c=x.sqrt(c),c=x.mul(3,c),c=x.mul(c,r);var f=x.sub(1,o);f=x.mul(3,f),i[0]=s,i[1]=c,i[2]=f;break;default:var o=x.mul(r,r),h=x.sub(1,o),l=2*e-1,m=1;if(l%2==0)for(var d=1;d<l/2+1;d++)m=2*m*d;else for(var d=1;d<(l+1)/2+1;d++)m*=2*d-1;i[e]=x.mul(m,x.pow(h,e/2)),i[e-1]=x.mul(2*e-1,x.mul(r,t[e-1]));for(var p=0;p<e-1;p++){var y=x.mul(2*e-1,x.mul(r,t[p])),v=x.mul(e+p-1,n[p]);i[p]=x.div(x.sub(y,v),e-p)}}return i}function l(e){for(var r=x.svd(e),t=r.S[0],n=r.U,i=r.S,o=r.V,u=e.length,a=e[0].length,s=Math.max(u,a)*x.epsilon*t,c=i.length,f=new Array(c),h=c-1;h!==-1;h--)i[h]>s?f[h]=1/i[h]:f[h]=0;return x.dot(x.dot(o,x.diag(f)),x.transpose(n))}function m(e){var r=x.transpose(e);return x.dot(x.inv(x.dot(r,e)),r)}function d(e,r){var t=(r+1)*(r+1),n=x.rep([t,t],0);n[0][0]=1;var i=x.rep([3,3],0);i[0][0]=e[1][1],i[0][1]=e[1][2],i[0][2]=e[1][0],i[1][0]=e[2][1],i[1][1]=e[2][2],i[1][2]=e[2][0],i[2][0]=e[0][1],i[2][1]=e[0][2],i[2][2]=e[0][0],n=x.setBlock(n,[1,1],[3,3],i);for(var o=i,u=3,a=2;a<r+1;a++){for(var s=x.rep([2*a+1,2*a+1],0),c=-a;c<a+1;c++)for(var f=-a;f<a+1;f++){var h,l,m,d,g;h=0==c?1:0,l=Math.abs(f)==a?2*a*(2*a-1):a*a-f*f,m=Math.sqrt((a*a-c*c)/l),d=Math.sqrt((1+h)*(a+Math.abs(c)-1)*(a+Math.abs(c))/l)*(1-2*h)*.5,g=Math.sqrt((a-Math.abs(c)-1)*(a-Math.abs(c))/l)*(1-h)*-.5,0!=m&&(m*=p(a,c,f,i,o)),0!=d&&(d*=y(a,c,f,i,o)),0!=g&&(g*=v(a,c,f,i,o)),s[c+a][f+a]=m+d+g}n=x.setBlock(n,[u+1,u+1],[u+2*a+1,u+2*a+1],s),o=s,u=u+2*a+1}return n}function p(e,r,t,n,i){return g(0,e,r,t,n,i)}function y(e,r,t,n,i){var o,u,a,s;return 0==r?(o=g(1,e,1,t,n,i),u=g(-1,e,-1,t,n,i),a=o+u):r>0?(s=1==r?1:0,o=g(1,e,r-1,t,n,i),u=g(-1,e,-r+1,t,n,i),a=o*Math.sqrt(1+s)-u*(1-s)):(s=r==-1?1:0,o=g(1,e,r+1,t,n,i),u=g(-1,e,-r-1,t,n,i),a=o*(1-s)+u*Math.sqrt(1+s)),a}function v(e,r,t,n,i){var o,u,a;return 0==r?console.error("should not be called"):r>0?(o=g(1,e,r+1,t,n,i),u=g(-1,e,-r-1,t,n,i),a=o+u):(o=g(1,e,r-1,t,n,i),u=g(-1,e,-r+1,t,n,i),a=o-u),a}function g(e,r,t,n,i,o){var u,a,s,c;return u=i[e+1][2],a=i[e+1][0],s=i[e+1][1],c=n==-r?u*o[t+r-1][0]+a*o[t+r-1][2*r-2]:n==r?u*o[t+r-1][2*r-2]-a*o[t+r-1][0]:s*o[t+r-1][n+r-1]}function b(e,r,t){var n=void 0,i=void 0,o=void 0;n=0==t?[[1,0,0],[0,1,0],[0,0,1]]:[[1,0,0],[0,Math.cos(t),Math.sin(t)],[0,-Math.sin(t),Math.cos(t)]],i=0==r?[[1,0,0],[0,1,0],[0,0,1]]:[[Math.cos(r),0,-Math.sin(r)],[0,1,0],[Math.sin(r),0,Math.cos(r)]],o=0==e?[[1,0,0],[0,1,0],[0,0,1]]:[[Math.cos(e),Math.sin(e),0],[-Math.sin(e),Math.cos(e),0],[0,0,1]];var u=x.dotMMsmall(i,o);return u=x.dotMMsmall(n,u)}Object.defineProperty(t,"__esModule",{value:!0}),t.forwardSHT=i,t.inverseSHT=o,t.print2Darray=u,t.convertCart2Sph=a,t.convertSph2Cart=s,t.computeRealSH=c,t.factorial=f,t.recurseLegendrePoly=h,t.pinv_svd=l,t.pinv_direct=m,t.getSHrotMtx=d,t.U=p,t.V=y,t.W=v,t.P=g,t.yawPitchRoll2Rzyx=b;var _=e("./numeric-1.2.6.min"),x=n(_)},{"./numeric-1.2.6.min":16}],16:[function(require,module,exports){(function(global){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}var _typeof2=require("babel-runtime/helpers/typeof"),_typeof3=_interopRequireDefault(_typeof2),numeric="undefined"==typeof exports?function(){}:exports;"undefined"!=typeof global&&(global.numeric=numeric),numeric.version="1.2.6",numeric.bench=function(e,r){var t,n,i,o;for("undefined"==typeof r&&(r=15),i=.5,t=new Date;;){for(i*=2,o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;if(n=new Date,n-t>r)break}for(o=i;o>3;o-=4)e(),e(),e(),e();for(;o>0;)e(),o--;return n=new Date,1e3*(3*i-1)/(n-t)},numeric._myIndexOf=function(e){var r,t=this.length;for(r=0;r<t;++r)if(this[r]===e)return r;return-1},numeric.myIndexOf=Array.prototype.indexOf?Array.prototype.indexOf:numeric._myIndexOf,numeric.Function=Function,numeric.precision=4,numeric.largeArray=50,numeric.prettyPrint=function(e){function r(e){if(0===e)return"0";if(isNaN(e))return"NaN";if(e<0)return"-"+r(-e);if(isFinite(e)){var t=Math.floor(Math.log(e)/Math.log(10)),n=e/Math.pow(10,t),i=n.toPrecision(numeric.precision);return 10===parseFloat(i)&&(t++,n=1,i=n.toPrecision(numeric.precision)),parseFloat(i).toString()+"e"+t.toString()}return"Infinity"}function t(e){var i;if("undefined"==typeof e)return n.push(Array(numeric.precision+8).join(" ")),!1;if("string"==typeof e)return n.push('"'+e+'"'),!1;if("boolean"==typeof e)return n.push(e.toString()),!1;if("number"==typeof e){var o=r(e),u=e.toPrecision(numeric.precision),a=parseFloat(e.toString()).toString(),s=[o,u,a,parseFloat(u).toString(),parseFloat(a).toString()];for(i=1;i<s.length;i++)s[i].length<o.length&&(o=s[i]);return n.push(Array(numeric.precision+8-o.length).join(" ")+o),!1}if(null===e)return n.push("null"),!1;if("function"==typeof e){n.push(e.toString());var c=!1;for(i in e)e.hasOwnProperty(i)&&(c?n.push(",\n"):n.push("\n{"),c=!0,n.push(i),n.push(": \n"),t(e[i]));return c&&n.push("}\n"),!0}if(e instanceof Array){if(e.length>numeric.largeArray)return n.push("...Large Array..."),
!0;var c=!1;for(n.push("["),i=0;i<e.length;i++)i>0&&(n.push(","),c&&n.push("\n ")),c=t(e[i]);return n.push("]"),!0}n.push("{");var c=!1;for(i in e)e.hasOwnProperty(i)&&(c&&n.push(",\n"),c=!0,n.push(i),n.push(": \n"),t(e[i]));return n.push("}"),!0}var n=[];return t(e),n.join("")},numeric.parseDate=function(e){function r(e){if("string"==typeof e)return Date.parse(e.replace(/-/g,"/"));if(e instanceof Array){var t,n=[];for(t=0;t<e.length;t++)n[t]=r(e[t]);return n}throw new Error("parseDate: parameter must be arrays of strings")}return r(e)},numeric.parseFloat=function(e){function r(e){if("string"==typeof e)return parseFloat(e);if(e instanceof Array){var t,n=[];for(t=0;t<e.length;t++)n[t]=r(e[t]);return n}throw new Error("parseFloat: parameter must be arrays of strings")}return r(e)},numeric.parseCSV=function(e){var r,t,n=e.split("\n"),i=[],o=/(([^'",]*)|('[^']*')|("[^"]*")),/g,u=/^\s*(([+-]?[0-9]+(\.[0-9]*)?(e[+-]?[0-9]+)?)|([+-]?[0-9]*(\.[0-9]+)?(e[+-]?[0-9]+)?))\s*$/,a=function(e){return e.substr(0,e.length-1)},s=0;for(t=0;t<n.length;t++){var c,f=(n[t]+",").match(o);if(f.length>0){for(i[s]=[],r=0;r<f.length;r++)c=a(f[r]),u.test(c)?i[s][r]=parseFloat(c):i[s][r]=c;s++}}return i},numeric.toCSV=function(e){var r,t,n,i,o,u,a=numeric.dim(e);for(n=a[0],i=a[1],u=[],r=0;r<n;r++){for(o=[],t=0;t<n;t++)o[t]=e[r][t].toString();u[r]=o.join(", ")}return u.join("\n")+"\n"},numeric.getURL=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(),r},numeric.imageURL=function(e){function r(e){var r,t,n,i,o,u,a,s,c=e.length,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h="";for(r=0;r<c;r+=3)t=e[r],n=e[r+1],i=e[r+2],o=t>>2,u=((3&t)<<4)+(n>>4),a=((15&n)<<2)+(i>>6),s=63&i,r+1>=c?a=s=64:r+2>=c&&(s=64),h+=f.charAt(o)+f.charAt(u)+f.charAt(a)+f.charAt(s);return h}function t(e,r,t){"undefined"==typeof r&&(r=0),"undefined"==typeof t&&(t=e.length);var n,i=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],o=-1,u=0;e.length;for(n=r;n<t;n++)u=255&(o^e[n]),o=o>>>8^i[u];return o^-1}var n,i,o,u,a,s,c,f,h,l,m=e[0].length,d=e[0][0].length,p=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,d>>24&255,d>>16&255,d>>8&255,255&d,m>>24&255,m>>16&255,m>>8&255,255&m,8,2,0,0,0,-1,-2,-3,-4,-5,-6,-7,-8,73,68,65,84,8,29];for(l=t(p,12,29),p[29]=l>>24&255,p[30]=l>>16&255,p[31]=l>>8&255,p[32]=255&l,n=1,i=0,c=0;c<m;c++){for(c<m-1?p.push(0):p.push(1),a=3*d+1+(0===c)&255,s=3*d+1+(0===c)>>8&255,p.push(a),p.push(s),p.push(255&~a),p.push(255&~s),0===c&&p.push(0),f=0;f<d;f++)for(o=0;o<3;o++)a=e[o][c][f],a=a>255?255:a<0?0:Math.round(a),n=(n+a)%65521,i=(i+n)%65521,p.push(a);p.push(0)}return h=(i<<16)+n,p.push(h>>24&255),p.push(h>>16&255),p.push(h>>8&255),p.push(255&h),u=p.length-41,p[33]=u>>24&255,p[34]=u>>16&255,p[35]=u>>8&255,p[36]=255&u,l=t(p,37),p.push(l>>24&255),p.push(l>>16&255),p.push(l>>8&255),p.push(255&l),p.push(0),p.push(0),p.push(0),p.push(0),p.push(73),p.push(69),p.push(78),p.push(68),p.push(174),p.push(66),p.push(96),p.push(130),"data:image/png;base64,"+r(p)},numeric._dim=function(e){for(var r=[];"object"==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e));)r.push(e.length),e=e[0];return r},numeric.dim=function(e){var r,t;return"object"==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))?(r=e[0],"object"==("undefined"==typeof r?"undefined":(0,_typeof3["default"])(r))?(t=r[0],"object"==("undefined"==typeof t?"undefined":(0,_typeof3["default"])(t))?numeric._dim(e):[e.length,r.length]):[e.length]):[]},numeric.mapreduce=function(e,r){return Function("x","accum","_s","_k",'if(typeof accum === "undefined") accum = '+r+';\nif(typeof x === "number") { var xi = x; '+e+'; return accum; }\nif(typeof _s === "undefined") _s = numeric.dim(x);\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i,xi;\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) {\n        accum = arguments.callee(x[i],accum,_s,_k+1);\n    }    return accum;\n}\nfor(i=_n-1;i>=1;i-=2) { \n    xi = x[i];\n    '+e+";\n    xi = x[i-1];\n    "+e+";\n}\nif(i === 0) {\n    xi = x[i];\n    "+e+"\n}\nreturn accum;")},numeric.mapreduce2=function(e,r){return Function("x","var n = x.length;\nvar i,xi;\n"+r+";\nfor(i=n-1;i!==-1;--i) { \n    xi = x[i];\n    "+e+";\n}\nreturn accum;")},numeric.same=function e(r,t){var n,i;if(r instanceof Array&&t instanceof Array){if(i=r.length,i!==t.length)return!1;for(n=0;n<i;n++)if(r[n]!==t[n]){if("object"!=(0,_typeof3["default"])(r[n]))return!1;if(!e(r[n],t[n]))return!1}return!0}return!1},numeric.rep=function(e,r,t){"undefined"==typeof t&&(t=0);var n,i=e[t],o=Array(i);if(t===e.length-1){for(n=i-2;n>=0;n-=2)o[n+1]=r,o[n]=r;return n===-1&&(o[0]=r),o}for(n=i-1;n>=0;n--)o[n]=numeric.rep(e,r,t+1);return o},numeric.dotMMsmall=function(e,r){var t,n,i,o,u,a,s,c,f,h,l;for(o=e.length,u=r.length,a=r[0].length,s=Array(o),t=o-1;t>=0;t--){for(c=Array(a),f=e[t],i=a-1;i>=0;i--){for(h=f[u-1]*r[u-1][i],n=u-2;n>=1;n-=2)l=n-1,h+=f[n]*r[n][i]+f[l]*r[l][i];0===n&&(h+=f[0]*r[0][i]),c[i]=h}s[t]=c}return s},numeric._getCol=function(e,r,t){var n,i=e.length;for(n=i-1;n>0;--n)t[n]=e[n][r],--n,t[n]=e[n][r];0===n&&(t[0]=e[0][r])},numeric.dotMMbig=function(e,r){var t,n,i,o,u=numeric._getCol,a=r.length,s=Array(a),c=e.length,f=r[0].length,h=new Array(c),l=numeric.dotVV;for(--a,--c,n=c;n!==-1;--n)h[n]=Array(f);for(--f,n=f;n!==-1;--n)for(u(r,n,s),i=c;i!==-1;--i)o=0,t=e[i],h[i][n]=l(t,s);return h},numeric.dotMV=function(e,r){var t,n=e.length,i=(r.length,Array(n)),o=numeric.dotVV;for(t=n-1;t>=0;t--)i[t]=o(e[t],r);return i},numeric.dotVM=function(e,r){var t,n,i,o,u,a,s;for(i=e.length,o=r[0].length,u=Array(o),n=o-1;n>=0;n--){for(a=e[i-1]*r[i-1][n],t=i-2;t>=1;t-=2)s=t-1,a+=e[t]*r[t][n]+e[s]*r[s][n];0===t&&(a+=e[0]*r[0][n]),u[n]=a}return u},numeric.dotVV=function(e,r){var t,n,i=e.length,o=e[i-1]*r[i-1];for(t=i-2;t>=1;t-=2)n=t-1,o+=e[t]*r[t]+e[n]*r[n];return 0===t&&(o+=e[0]*r[0]),o},numeric.dot=function(e,r){var t=numeric.dim;switch(1e3*t(e).length+t(r).length){case 2002:return r.length<10?numeric.dotMMsmall(e,r):numeric.dotMMbig(e,r);case 2001:return numeric.dotMV(e,r);case 1002:return numeric.dotVM(e,r);case 1001:return numeric.dotVV(e,r);case 1e3:return numeric.mulVS(e,r);case 1:return numeric.mulSV(e,r);case 0:return e*r;default:throw new Error("numeric.dot only works on vectors and matrices")}},numeric.diag=function(e){var r,t,n,i,o=e.length,u=Array(o);for(r=o-1;r>=0;r--){for(i=Array(o),t=r+2,n=o-1;n>=t;n-=2)i[n]=0,i[n-1]=0;for(n>r&&(i[n]=0),i[r]=e[r],n=r-1;n>=1;n-=2)i[n]=0,i[n-1]=0;0===n&&(i[0]=0),u[r]=i}return u},numeric.getDiag=function(e){var r,t=Math.min(e.length,e[0].length),n=Array(t);for(r=t-1;r>=1;--r)n[r]=e[r][r],--r,n[r]=e[r][r];return 0===r&&(n[0]=e[0][0]),n},numeric.identity=function(e){return numeric.diag(numeric.rep([e],1))},numeric.pointwise=function(e,r,t){"undefined"==typeof t&&(t="");var n,i,o=[],u=/\[i\]$/,a="",s=!1;for(n=0;n<e.length;n++)u.test(e[n])?(i=e[n].substring(0,e[n].length-3),a=i):i=e[n],"ret"===i&&(s=!0),o.push(i);return o[e.length]="_s",o[e.length+1]="_k",o[e.length+2]='if(typeof _s === "undefined") _s = numeric.dim('+a+');\nif(typeof _k === "undefined") _k = 0;\nvar _n = _s[_k];\nvar i'+(s?"":", ret = Array(_n)")+";\nif(_k < _s.length-1) {\n    for(i=_n-1;i>=0;i--) ret[i] = arguments.callee("+e.join(",")+",_s,_k+1);\n    return ret;\n}\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n    "+r+"\n}\nreturn ret;",Function.apply(null,o)},numeric.pointwise2=function(e,r,t){"undefined"==typeof t&&(t="");var n,i,o=[],u=/\[i\]$/,a="",s=!1;for(n=0;n<e.length;n++)u.test(e[n])?(i=e[n].substring(0,e[n].length-3),a=i):i=e[n],"ret"===i&&(s=!0),o.push(i);return o[e.length]="var _n = "+a+".length;\nvar i"+(s?"":", ret = Array(_n)")+";\n"+t+"\nfor(i=_n-1;i!==-1;--i) {\n"+r+"\n}\nreturn ret;",Function.apply(null,o)},numeric._biforeach=function r(e,t,n,i,o){if(i===n.length-1)return void o(e,t);var u,a=n[i];for(u=a-1;u>=0;u--)r("object"==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))?e[u]:e,"object"==("undefined"==typeof t?"undefined":(0,_typeof3["default"])(t))?t[u]:t,n,i+1,o)},numeric._biforeach2=function t(e,r,n,i,o){if(i===n.length-1)return o(e,r);var u,a=n[i],s=Array(a);for(u=a-1;u>=0;--u)s[u]=t("object"==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))?e[u]:e,"object"==("undefined"==typeof r?"undefined":(0,_typeof3["default"])(r))?r[u]:r,n,i+1,o);return s},numeric._foreach=function n(e,r,t,i){if(t===r.length-1)return void i(e);var o,u=r[t];for(o=u-1;o>=0;o--)n(e[o],r,t+1,i)},numeric._foreach2=function i(e,r,t,n){if(t===r.length-1)return n(e);var o,u=r[t],a=Array(u);for(o=u-1;o>=0;o--)a[o]=i(e[o],r,t+1,n);return a},numeric.ops2={add:"+",sub:"-",mul:"*",div:"/",mod:"%",and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">=",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"},numeric.opseq={addeq:"+=",subeq:"-=",muleq:"*=",diveq:"/=",modeq:"%=",lshifteq:"<<=",rshifteq:">>=",rrshifteq:">>>=",bandeq:"&=",boreq:"|=",bxoreq:"^="},numeric.mathfuns=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan","isNaN","isFinite"],numeric.mathfuns2=["atan2","pow","max","min"],numeric.ops1={neg:"-",not:"!",bnot:"~",clone:""},numeric.mapreducers={any:["if(xi) return true;","var accum = false;"],all:["if(!xi) return false;","var accum = true;"],sum:["accum += xi;","var accum = 0;"],prod:["accum *= xi;","var accum = 1;"],norm2Squared:["accum += xi*xi;","var accum = 0;"],norminf:["accum = max(accum,abs(xi));","var accum = 0, max = Math.max, abs = Math.abs;"],norm1:["accum += abs(xi)","var accum = 0, abs = Math.abs;"],sup:["accum = max(accum,xi);","var accum = -Infinity, max = Math.max;"],inf:["accum = min(accum,xi);","var accum = Infinity, min = Math.min;"]},function(){var e,r;for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],numeric.ops2[r]=r;for(e in numeric.ops2)if(numeric.ops2.hasOwnProperty(e)){r=numeric.ops2[e];var t,n,i="";numeric.myIndexOf.call(numeric.mathfuns2,e)!==-1?(i="var "+r+" = Math."+r+";\n",t=function(e,t,n){return e+" = "+r+"("+t+","+n+")"},n=function(e,t){return e+" = "+r+"("+e+","+t+")"}):(t=function(e,t,n){return e+" = "+t+" "+r+" "+n},n=numeric.opseq.hasOwnProperty(e+"eq")?function(e,t){return e+" "+r+"= "+t}:function(e,t){return e+" = "+e+" "+r+" "+t}),numeric[e+"VV"]=numeric.pointwise2(["x[i]","y[i]"],t("ret[i]","x[i]","y[i]"),i),numeric[e+"SV"]=numeric.pointwise2(["x","y[i]"],t("ret[i]","x","y[i]"),i),numeric[e+"VS"]=numeric.pointwise2(["x[i]","y"],t("ret[i]","x[i]","y"),i),numeric[e]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar VV = numeric."+e+"VV, VS = numeric."+e+"VS, SV = numeric."+e+'SV;\nvar dim = numeric.dim;\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof x === "object") {\n      if(typeof y === "object") x = numeric._biforeach2(x,y,dim(x),0,VV);\n      else x = numeric._biforeach2(x,y,dim(x),0,VS);\n  } else if(typeof y === "object") x = numeric._biforeach2(x,y,dim(y),0,SV);\n  else '+n("x","y")+"\n}\nreturn x;\n"),numeric[r]=numeric[e],numeric[e+"eqV"]=numeric.pointwise2(["ret[i]","x[i]"],n("ret[i]","x[i]"),i),numeric[e+"eqS"]=numeric.pointwise2(["ret[i]","x"],n("ret[i]","x"),i),numeric[e+"eq"]=Function("var n = arguments.length, i, x = arguments[0], y;\nvar V = numeric."+e+"eqV, S = numeric."+e+'eqS\nvar s = numeric.dim(x);\nfor(i=1;i!==n;++i) { \n  y = arguments[i];\n  if(typeof y === "object") numeric._biforeach(x,y,s,0,V);\n  else numeric._biforeach(x,y,s,0,S);\n}\nreturn x;\n')}for(e=0;e<numeric.mathfuns2.length;++e)r=numeric.mathfuns2[e],delete numeric.ops2[r];for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],numeric.ops1[r]=r;for(e in numeric.ops1)numeric.ops1.hasOwnProperty(e)&&(i="",r=numeric.ops1[e],numeric.myIndexOf.call(numeric.mathfuns,e)!==-1&&Math.hasOwnProperty(r)&&(i="var "+r+" = Math."+r+";\n"),numeric[e+"eqV"]=numeric.pointwise2(["ret[i]"],"ret[i] = "+r+"(ret[i]);",i),numeric[e+"eq"]=Function("x",'if(typeof x !== "object") return '+r+"x\nvar i;\nvar V = numeric."+e+"eqV;\nvar s = numeric.dim(x);\nnumeric._foreach(x,s,0,V);\nreturn x;\n"),numeric[e+"V"]=numeric.pointwise2(["x[i]"],"ret[i] = "+r+"(x[i]);",i),numeric[e]=Function("x",'if(typeof x !== "object") return '+r+"(x)\nvar i;\nvar V = numeric."+e+"V;\nvar s = numeric.dim(x);\nreturn numeric._foreach2(x,s,0,V);\n"));for(e=0;e<numeric.mathfuns.length;++e)r=numeric.mathfuns[e],delete numeric.ops1[r];for(e in numeric.mapreducers)numeric.mapreducers.hasOwnProperty(e)&&(r=numeric.mapreducers[e],numeric[e+"V"]=numeric.mapreduce2(r[0],r[1]),numeric[e]=Function("x","s","k",r[1]+'if(typeof x !== "object") {    xi = x;\n'+r[0]+';\n    return accum;\n}if(typeof s === "undefined") s = numeric.dim(x);\nif(typeof k === "undefined") k = 0;\nif(k === s.length-1) return numeric.'+e+"V(x);\nvar xi;\nvar n = x.length, i;\nfor(i=n-1;i!==-1;--i) {\n   xi = arguments.callee(x[i]);\n"+r[0]+";\n}\nreturn accum;\n"))}(),numeric.truncVV=numeric.pointwise(["x[i]","y[i]"],"ret[i] = round(x[i]/y[i])*y[i];","var round = Math.round;"),numeric.truncVS=numeric.pointwise(["x[i]","y"],"ret[i] = round(x[i]/y)*y;","var round = Math.round;"),numeric.truncSV=numeric.pointwise(["x","y[i]"],"ret[i] = round(x/y[i])*y[i];","var round = Math.round;"),numeric.trunc=function(e,r){return"object"==("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e))?"object"==("undefined"==typeof r?"undefined":(0,_typeof3["default"])(r))?numeric.truncVV(e,r):numeric.truncVS(e,r):"object"==("undefined"==typeof r?"undefined":(0,_typeof3["default"])(r))?numeric.truncSV(e,r):Math.round(e/r)*r},numeric.inv=function(e){var r,t,n,i,o,u,a,e,s=numeric.dim(e),c=Math.abs,f=s[0],h=s[1],l=numeric.clone(e),m=numeric.identity(f);for(u=0;u<h;++u){var d=-1,p=-1;for(o=u;o!==f;++o)a=c(l[o][u]),a>p&&(d=o,p=a);for(t=l[d],l[d]=l[u],l[u]=t,i=m[d],m[d]=m[u],m[u]=i,e=t[u],a=u;a!==h;++a)t[a]/=e;for(a=h-1;a!==-1;--a)i[a]/=e;for(o=f-1;o!==-1;--o)if(o!==u){for(r=l[o],n=m[o],e=r[u],a=u+1;a!==h;++a)r[a]-=t[a]*e;for(a=h-1;a>0;--a)n[a]-=i[a]*e,--a,n[a]-=i[a]*e;0===a&&(n[0]-=i[0]*e)}}return m},numeric.det=function(e){var r=numeric.dim(e);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: det() only works on square matrices");var t,n,i,o,u,a,s,c,f=r[0],h=1,l=numeric.clone(e);for(n=0;n<f-1;n++){for(i=n,t=n+1;t<f;t++)Math.abs(l[t][n])>Math.abs(l[i][n])&&(i=t);for(i!==n&&(s=l[i],l[i]=l[n],l[n]=s,h*=-1),o=l[n],t=n+1;t<f;t++){for(u=l[t],a=u[n]/o[n],i=n+1;i<f-1;i+=2)c=i+1,u[i]-=o[i]*a,u[c]-=o[c]*a;i!==f&&(u[i]-=o[i]*a)}if(0===o[n])return 0;h*=o[n]}return h*l[n][n]},numeric.transpose=function(e){var r,t,n,i,o,u=e.length,a=e[0].length,s=Array(a);for(t=0;t<a;t++)s[t]=Array(u);for(r=u-1;r>=1;r-=2){for(i=e[r],n=e[r-1],t=a-1;t>=1;--t)o=s[t],o[r]=i[t],o[r-1]=n[t],--t,o=s[t],o[r]=i[t],o[r-1]=n[t];0===t&&(o=s[0],o[r]=i[0],o[r-1]=n[0])}if(0===r){for(n=e[0],t=a-1;t>=1;--t)s[t][0]=n[t],--t,s[t][0]=n[t];0===t&&(s[0][0]=n[0])}return s},numeric.negtranspose=function(e){var r,t,n,i,o,u=e.length,a=e[0].length,s=Array(a);for(t=0;t<a;t++)s[t]=Array(u);for(r=u-1;r>=1;r-=2){for(i=e[r],n=e[r-1],t=a-1;t>=1;--t)o=s[t],o[r]=-i[t],o[r-1]=-n[t],--t,o=s[t],o[r]=-i[t],o[r-1]=-n[t];0===t&&(o=s[0],o[r]=-i[0],o[r-1]=-n[0])}if(0===r){for(n=e[0],t=a-1;t>=1;--t)s[t][0]=-n[t],--t,s[t][0]=-n[t];0===t&&(s[0][0]=-n[0])}return s},numeric._random=function o(e,r){var t,n,i=e[r],u=Array(i);if(r===e.length-1){for(n=Math.random,t=i-1;t>=1;t-=2)u[t]=n(),u[t-1]=n();return 0===t&&(u[0]=n()),u}for(t=i-1;t>=0;t--)u[t]=o(e,r+1);return u},numeric.random=function(e){return numeric._random(e,0)},numeric.norm2=function(e){return Math.sqrt(numeric.norm2Squared(e))},numeric.linspace=function(e,r,t){if("undefined"==typeof t&&(t=Math.max(Math.round(r-e)+1,1)),t<2)return 1===t?[e]:[];var n,i=Array(t);for(t--,n=t;n>=0;n--)i[n]=(n*r+(t-n)*e)/t;return i},numeric.getBlock=function(e,r,t){function n(e,o){var u,a=r[o],s=t[o]-a,c=Array(s);if(o===i.length-1){for(u=s;u>=0;u--)c[u]=e[u+a];return c}for(u=s;u>=0;u--)c[u]=n(e[u+a],o+1);return c}var i=numeric.dim(e);return n(e,0)},numeric.setBlock=function(e,r,t,n){function i(e,n,u){var a,s=r[u],c=t[u]-s;if(u===o.length-1)for(a=c;a>=0;a--)e[a+s]=n[a];for(a=c;a>=0;a--)i(e[a+s],n[a],u+1)}var o=numeric.dim(e);return i(e,n,0),e},numeric.getRange=function(e,r,t){var n,i,o,u,a=r.length,s=t.length,c=Array(a);for(n=a-1;n!==-1;--n)for(c[n]=Array(s),o=c[n],u=e[r[n]],i=s-1;i!==-1;--i)o[i]=u[t[i]];return c},numeric.blockMatrix=function(e){var r=numeric.dim(e);if(r.length<4)return numeric.blockMatrix([e]);var t,n,i,o,u,a=r[0],s=r[1];for(t=0,n=0,i=0;i<a;++i)t+=e[i][0].length;for(o=0;o<s;++o)n+=e[0][o][0].length;var c=Array(t);for(i=0;i<t;++i)c[i]=Array(n);var f,h,l,m,d,p=0;for(i=0;i<a;++i){for(f=n,o=s-1;o!==-1;--o)for(u=e[i][o],f-=u[0].length,l=u.length-1;l!==-1;--l)for(d=u[l],h=c[p+l],m=d.length-1;m!==-1;--m)h[f+m]=d[m];p+=e[i][0].length}return c},numeric.tensor=function(e,r){if("number"==typeof e||"number"==typeof r)return numeric.mul(e,r);var t=numeric.dim(e),n=numeric.dim(r);if(1!==t.length||1!==n.length)throw new Error("numeric: tensor product is only defined for vectors");var i,o,u,a,s=t[0],c=n[0],f=Array(s);for(o=s-1;o>=0;o--){for(i=Array(c),a=e[o],u=c-1;u>=3;--u)i[u]=a*r[u],--u,i[u]=a*r[u],--u,i[u]=a*r[u],--u,i[u]=a*r[u];for(;u>=0;)i[u]=a*r[u],--u;f[o]=i}return f},numeric.T=function(e,r){this.x=e,this.y=r},numeric.t=function(e,r){return new numeric.T(e,r)},numeric.Tbinop=function(e,r,t,n,i){numeric.indexOf;if("string"!=typeof i){var o;i="";for(o in numeric)numeric.hasOwnProperty(o)&&(e.indexOf(o)>=0||r.indexOf(o)>=0||t.indexOf(o)>=0||n.indexOf(o)>=0)&&o.length>1&&(i+="var "+o+" = numeric."+o+";\n")}return Function(["y"],"var x = this;\nif(!(y instanceof numeric.T)) { y = new numeric.T(y); }\n"+i+"\nif(x.y) {  if(y.y) {    return new numeric.T("+n+");\n  }\n  return new numeric.T("+t+");\n}\nif(y.y) {\n  return new numeric.T("+r+");\n}\nreturn new numeric.T("+e+");\n")},numeric.T.prototype.add=numeric.Tbinop("add(x.x,y.x)","add(x.x,y.x),y.y","add(x.x,y.x),x.y","add(x.x,y.x),add(x.y,y.y)"),numeric.T.prototype.sub=numeric.Tbinop("sub(x.x,y.x)","sub(x.x,y.x),neg(y.y)","sub(x.x,y.x),x.y","sub(x.x,y.x),sub(x.y,y.y)"),numeric.T.prototype.mul=numeric.Tbinop("mul(x.x,y.x)","mul(x.x,y.x),mul(x.x,y.y)","mul(x.x,y.x),mul(x.y,y.x)","sub(mul(x.x,y.x),mul(x.y,y.y)),add(mul(x.x,y.y),mul(x.y,y.x))"),numeric.T.prototype.reciprocal=function(){var e=numeric.mul,r=numeric.div;if(this.y){var t=numeric.add(e(this.x,this.x),e(this.y,this.y));return new numeric.T(r(this.x,t),r(numeric.neg(this.y),t))}return new T(r(1,this.x))},numeric.T.prototype.div=function u(e){if(e instanceof numeric.T||(e=new numeric.T(e)),e.y)return this.mul(e.reciprocal());var u=numeric.div;return this.y?new numeric.T(u(this.x,e.x),u(this.y,e.x)):new numeric.T(u(this.x,e.x))},numeric.T.prototype.dot=numeric.Tbinop("dot(x.x,y.x)","dot(x.x,y.x),dot(x.x,y.y)","dot(x.x,y.x),dot(x.y,y.x)","sub(dot(x.x,y.x),dot(x.y,y.y)),add(dot(x.x,y.y),dot(x.y,y.x))"),numeric.T.prototype.transpose=function(){var e=numeric.transpose,r=this.x,t=this.y;return t?new numeric.T(e(r),e(t)):new numeric.T(e(r))},numeric.T.prototype.transjugate=function(){var e=numeric.transpose,r=this.x,t=this.y;return t?new numeric.T(e(r),numeric.negtranspose(t)):new numeric.T(e(r))},numeric.Tunop=function(e,r,t){return"string"!=typeof t&&(t=""),Function("var x = this;\n"+t+"\nif(x.y) {  "+r+";\n}\n"+e+";\n")},numeric.T.prototype.exp=numeric.Tunop("return new numeric.T(ex)","return new numeric.T(mul(cos(x.y),ex),mul(sin(x.y),ex))","var ex = numeric.exp(x.x), cos = numeric.cos, sin = numeric.sin, mul = numeric.mul;"),numeric.T.prototype.conj=numeric.Tunop("return new numeric.T(x.x);","return new numeric.T(x.x,numeric.neg(x.y));"),numeric.T.prototype.neg=numeric.Tunop("return new numeric.T(neg(x.x));","return new numeric.T(neg(x.x),neg(x.y));","var neg = numeric.neg;"),numeric.T.prototype.sin=numeric.Tunop("return new numeric.T(numeric.sin(x.x))","return x.exp().sub(x.neg().exp()).div(new numeric.T(0,2));"),numeric.T.prototype.cos=numeric.Tunop("return new numeric.T(numeric.cos(x.x))","return x.exp().add(x.neg().exp()).div(2);"),numeric.T.prototype.abs=numeric.Tunop("return new numeric.T(numeric.abs(x.x));","return new numeric.T(numeric.sqrt(numeric.add(mul(x.x,x.x),mul(x.y,x.y))));","var mul = numeric.mul;"),numeric.T.prototype.log=numeric.Tunop("return new numeric.T(numeric.log(x.x));","var theta = new numeric.T(numeric.atan2(x.y,x.x)), r = x.abs();\nreturn new numeric.T(numeric.log(r.x),theta.x);"),numeric.T.prototype.norm2=numeric.Tunop("return numeric.norm2(x.x);","var f = numeric.norm2Squared;\nreturn Math.sqrt(f(x.x)+f(x.y));"),numeric.T.prototype.inv=function(){var e=this;if("undefined"==typeof e.y)return new numeric.T(numeric.inv(e.x));var r,t,n,i,o,u,a,s,c,f,h,r,t,n,l,m,d,p,y,v,g,b=e.x.length,_=numeric.identity(b),x=numeric.rep([b,b],0),M=numeric.clone(e.x),w=numeric.clone(e.y);for(r=0;r<b;r++){for(d=M[r][r],p=w[r][r],l=d*d+p*p,n=r,t=r+1;t<b;t++)d=M[t][r],p=w[t][r],m=d*d+p*p,m>l&&(n=t,l=m);for(n!==r&&(g=M[r],M[r]=M[n],M[n]=g,g=w[r],w[r]=w[n],w[n]=g,g=_[r],_[r]=_[n],_[n]=g,g=x[r],x[r]=x[n],x[n]=g),i=M[r],o=w[r],s=_[r],c=x[r],d=i[r],p=o[r],t=r+1;t<b;t++)y=i[t],v=o[t],i[t]=(y*d+v*p)/l,o[t]=(v*d-y*p)/l;for(t=0;t<b;t++)y=s[t],v=c[t],s[t]=(y*d+v*p)/l,c[t]=(v*d-y*p)/l;for(t=r+1;t<b;t++){for(u=M[t],a=w[t],f=_[t],h=x[t],d=u[r],p=a[r],n=r+1;n<b;n++)y=i[n],v=o[n],u[n]-=y*d-v*p,a[n]-=v*d+y*p;for(n=0;n<b;n++)y=s[n],v=c[n],f[n]-=y*d-v*p,h[n]-=v*d+y*p}}for(r=b-1;r>0;r--)for(s=_[r],c=x[r],t=r-1;t>=0;t--)for(f=_[t],h=x[t],d=M[t][r],p=w[t][r],n=b-1;n>=0;n--)y=s[n],v=c[n],f[n]-=d*y-p*v,h[n]-=d*v+p*y;return new numeric.T(_,x)},numeric.T.prototype.get=function(e){var r,t=this.x,n=this.y,i=0,o=e.length;if(n){for(;i<o;)r=e[i],t=t[r],n=n[r],i++;return new numeric.T(t,n)}for(;i<o;)r=e[i],t=t[r],i++;return new numeric.T(t)},numeric.T.prototype.set=function(e,r){var t,n=this.x,i=this.y,o=0,u=e.length,a=r.x,s=r.y;if(0===u)return s?this.y=s:i&&(this.y=void 0),this.x=n,this;if(s){for(i||(i=numeric.rep(numeric.dim(n),0),this.y=i);o<u-1;)t=e[o],n=n[t],i=i[t],o++;return t=e[o],n[t]=a,i[t]=s,this}if(i){for(;o<u-1;)t=e[o],n=n[t],i=i[t],o++;return t=e[o],n[t]=a,a instanceof Array?i[t]=numeric.rep(numeric.dim(a),0):i[t]=0,this}for(;o<u-1;)t=e[o],n=n[t],o++;return t=e[o],n[t]=a,this},numeric.T.prototype.getRows=function(e,r){var t,n,i=r-e+1,o=Array(i),u=this.x,a=this.y;for(t=e;t<=r;t++)o[t-e]=u[t];if(a){for(n=Array(i),t=e;t<=r;t++)n[t-e]=a[t];return new numeric.T(o,n)}return new numeric.T(o)},numeric.T.prototype.setRows=function(e,r,t){var n,i=this.x,o=this.y,u=t.x,a=t.y;for(n=e;n<=r;n++)i[n]=u[n-e];if(a)for(o||(o=numeric.rep(numeric.dim(i),0),this.y=o),n=e;n<=r;n++)o[n]=a[n-e];else if(o)for(n=e;n<=r;n++)o[n]=numeric.rep([u[n-e].length],0);return this},numeric.T.prototype.getRow=function(e){var r=this.x,t=this.y;return t?new numeric.T(r[e],t[e]):new numeric.T(r[e])},numeric.T.prototype.setRow=function(e,r){var t=this.x,n=this.y,i=r.x,o=r.y;return t[e]=i,o?(n||(n=numeric.rep(numeric.dim(t),0),this.y=n),n[e]=o):n&&(n=numeric.rep([i.length],0)),this},numeric.T.prototype.getBlock=function(e,r){var t=this.x,n=this.y,i=numeric.getBlock;return n?new numeric.T(i(t,e,r),i(n,e,r)):new numeric.T(i(t,e,r))},numeric.T.prototype.setBlock=function(e,r,t){t instanceof numeric.T||(t=new numeric.T(t));var n=this.x,i=this.y,o=numeric.setBlock,u=t.x,a=t.y;return a?(i||(this.y=numeric.rep(numeric.dim(this),0),i=this.y),o(n,e,r,u),o(i,e,r,a),this):(o(n,e,r,u),void(i&&o(i,e,r,numeric.rep(numeric.dim(u),0))))},numeric.T.rep=function(e,r){var t=numeric.T;r instanceof t||(r=new t(r));var n=r.x,i=r.y,o=numeric.rep;return i?new t(o(e,n),o(e,i)):new t(o(e,n))},numeric.T.diag=function a(e){e instanceof numeric.T||(e=new numeric.T(e));var r=e.x,t=e.y,a=numeric.diag;return t?new numeric.T(a(r),a(t)):new numeric.T(a(r))},numeric.T.eig=function(){if(this.y)throw new Error("eig: not implemented for complex matrices.");return numeric.eig(this.x)},numeric.T.identity=function(e){return new numeric.T(numeric.identity(e))},numeric.T.prototype.getDiag=function(){var e=numeric,r=this.x,t=this.y;return t?new e.T(e.getDiag(r),e.getDiag(t)):new e.T(e.getDiag(r))},numeric.house=function(e){var r=numeric.clone(e),t=e[0]>=0?1:-1,n=t*numeric.norm2(e);r[0]+=n;var i=numeric.norm2(r);if(0===i)throw new Error("eig: internal error");return numeric.div(r,i)},numeric.toUpperHessenberg=function(e){var r=numeric.dim(e);if(2!==r.length||r[0]!==r[1])throw new Error("numeric: toUpperHessenberg() only works on square matrices");var t,n,i,o,u,a,s,c,f,h,l=r[0],m=numeric.clone(e),d=numeric.identity(l);for(n=0;n<l-2;n++){for(o=Array(l-n-1),t=n+1;t<l;t++)o[t-n-1]=m[t][n];if(numeric.norm2(o)>0){for(u=numeric.house(o),a=numeric.getBlock(m,[n+1,n],[l-1,l-1]),s=numeric.tensor(u,numeric.dot(u,a)),t=n+1;t<l;t++)for(c=m[t],f=s[t-n-1],i=n;i<l;i++)c[i]-=2*f[i-n];for(a=numeric.getBlock(m,[0,n+1],[l-1,l-1]),s=numeric.tensor(numeric.dot(a,u),u),t=0;t<l;t++)for(c=m[t],f=s[t],i=n+1;i<l;i++)c[i]-=2*f[i-n-1];for(a=Array(l-n-1),t=n+1;t<l;t++)a[t-n-1]=d[t];for(s=numeric.tensor(u,numeric.dot(u,a)),t=n+1;t<l;t++)for(h=d[t],f=s[t-n-1],i=0;i<l;i++)h[i]-=2*f[i]}}return{H:m,Q:d}},numeric.epsilon=2.220446049250313e-16,numeric.QRFrancis=function(e,r){"undefined"==typeof r&&(r=1e4),e=numeric.clone(e);var t,n,i,o,u,a,s,c,f,h,l,m,d,p,y,v,g,b,_=(numeric.clone(e),numeric.dim(e)),x=_[0],M=numeric.identity(x);if(x<3)return{Q:M,B:[[0,x-1]]};var w=numeric.epsilon;for(b=0;b<r;b++){for(v=0;v<x-1;v++)if(Math.abs(e[v+1][v])<w*(Math.abs(e[v][v])+Math.abs(e[v+1][v+1]))){var j=numeric.QRFrancis(numeric.getBlock(e,[0,0],[v,v]),r),k=numeric.QRFrancis(numeric.getBlock(e,[v+1,v+1],[x-1,x-1]),r);for(m=Array(v+1),y=0;y<=v;y++)m[y]=M[y];for(d=numeric.dot(j.Q,m),y=0;y<=v;y++)M[y]=d[y];for(m=Array(x-v-1),y=v+1;y<x;y++)m[y-v-1]=M[y];for(d=numeric.dot(k.Q,m),y=v+1;y<x;y++)M[y]=d[y-v-1];return{Q:M,B:j.B.concat(numeric.add(k.B,v+1))}}if(i=e[x-2][x-2],o=e[x-2][x-1],u=e[x-1][x-2],a=e[x-1][x-1],c=i+a,s=i*a-o*u,f=numeric.getBlock(e,[0,0],[2,2]),c*c>=4*s){var C,A;C=.5*(c+Math.sqrt(c*c-4*s)),A=.5*(c-Math.sqrt(c*c-4*s)),f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,C+A)),numeric.diag(numeric.rep([3],C*A)))}else f=numeric.add(numeric.sub(numeric.dot(f,f),numeric.mul(f,c)),numeric.diag(numeric.rep([3],s)));for(t=[f[0][0],f[1][0],f[2][0]],n=numeric.house(t),m=[e[0],e[1],e[2]],d=numeric.tensor(n,numeric.dot(n,m)),y=0;y<3;y++)for(l=e[y],p=d[y],g=0;g<x;g++)l[g]-=2*p[g];for(m=numeric.getBlock(e,[0,0],[x-1,2]),d=numeric.tensor(numeric.dot(m,n),n),y=0;y<x;y++)for(l=e[y],p=d[y],g=0;g<3;g++)l[g]-=2*p[g];for(m=[M[0],M[1],M[2]],d=numeric.tensor(n,numeric.dot(n,m)),y=0;y<3;y++)for(h=M[y],p=d[y],g=0;g<x;g++)h[g]-=2*p[g];var S;for(v=0;v<x-2;v++){for(g=v;g<=v+1;g++)if(Math.abs(e[g+1][g])<w*(Math.abs(e[g][g])+Math.abs(e[g+1][g+1]))){var j=numeric.QRFrancis(numeric.getBlock(e,[0,0],[g,g]),r),k=numeric.QRFrancis(numeric.getBlock(e,[g+1,g+1],[x-1,x-1]),r);for(m=Array(g+1),y=0;y<=g;y++)m[y]=M[y];for(d=numeric.dot(j.Q,m),y=0;y<=g;y++)M[y]=d[y];for(m=Array(x-g-1),y=g+1;y<x;y++)m[y-g-1]=M[y];for(d=numeric.dot(k.Q,m),y=g+1;y<x;y++)M[y]=d[y-g-1];return{Q:M,B:j.B.concat(numeric.add(k.B,g+1))}}for(S=Math.min(x-1,v+3),t=Array(S-v),y=v+1;y<=S;y++)t[y-v-1]=e[y][v];for(n=numeric.house(t),m=numeric.getBlock(e,[v+1,v],[S,x-1]),d=numeric.tensor(n,numeric.dot(n,m)),y=v+1;y<=S;y++)for(l=e[y],p=d[y-v-1],g=v;g<x;g++)l[g]-=2*p[g-v];for(m=numeric.getBlock(e,[0,v+1],[x-1,S]),d=numeric.tensor(numeric.dot(m,n),n),y=0;y<x;y++)for(l=e[y],p=d[y],g=v+1;g<=S;g++)l[g]-=2*p[g-v-1];for(m=Array(S-v),y=v+1;y<=S;y++)m[y-v-1]=M[y];for(d=numeric.tensor(n,numeric.dot(n,m)),y=v+1;y<=S;y++)for(h=M[y],p=d[y-v-1],g=0;g<x;g++)h[g]-=2*p[g]}}throw new Error("numeric: eigenvalue iteration does not converge -- increase maxiter?")},numeric.eig=function(e,r){var t,n,i,o,u,a,s,c,f,h,l,m,d,p,y,v,g,b=numeric.toUpperHessenberg(e),_=numeric.QRFrancis(b.H,r),x=numeric.T,M=e.length,w=_.B,j=numeric.dot(_.Q,numeric.dot(b.H,numeric.transpose(_.Q))),k=new x(numeric.dot(_.Q,b.Q)),C=w.length,A=Math.sqrt;for(n=0;n<C;n++)if(t=w[n][0],t!==w[n][1]){if(o=t+1,u=j[t][t],a=j[t][o],s=j[o][t],c=j[o][o],0===a&&0===s)continue;f=-u-c,h=u*c-a*s,l=f*f-4*h,l>=0?(m=f<0?-.5*(f-A(l)):-.5*(f+A(l)),v=(u-m)*(u-m)+a*a,g=s*s+(c-m)*(c-m),v>g?(v=A(v),p=(u-m)/v,y=a/v):(g=A(g),p=s/g,y=(c-m)/g),i=new x([[y,-p],[p,y]]),k.setRows(t,o,i.dot(k.getRows(t,o)))):(m=-.5*f,d=.5*A(-l),v=(u-m)*(u-m)+a*a,g=s*s+(c-m)*(c-m),v>g?(v=A(v+d*d),p=(u-m)/v,y=a/v,m=0,d/=v):(g=A(g+d*d),p=s/g,y=(c-m)/g,m=d/g,d=0),i=new x([[y,-p],[p,y]],[[m,d],[d,-m]]),k.setRows(t,o,i.dot(k.getRows(t,o))))}var S=k.dot(e).dot(k.transjugate()),M=e.length,O=numeric.T.identity(M);for(o=0;o<M;o++)if(o>0)for(n=o-1;n>=0;n--){var P=S.get([n,n]),T=S.get([o,o]);numeric.neq(P.x,T.x)||numeric.neq(P.y,T.y)?(m=S.getRow(n).getBlock([n],[o-1]),d=O.getRow(o).getBlock([n],[o-1]),O.set([o,n],S.get([n,o]).neg().sub(m.dot(d)).div(P.sub(T)))):O.setRow(o,O.getRow(n))}for(o=0;o<M;o++)m=O.getRow(o),O.setRow(o,m.div(m.norm2()));return O=O.transpose(),O=k.transjugate().dot(O),{lambda:S.getDiag(),E:O}},numeric.ccsSparse=function(e){var r,t,n,i,o=e.length,u=[];for(n=o-1;n!==-1;--n){t=e[n];for(i in t){for(i=parseInt(i);i>=u.length;)u[u.length]=0;0!==t[i]&&u[i]++}}var r=u.length,a=Array(r+1);for(a[0]=0,n=0;n<r;++n)a[n+1]=a[n]+u[n];var s=Array(a[r]),c=Array(a[r]);for(n=o-1;n!==-1;--n){t=e[n];for(i in t)0!==t[i]&&(u[i]--,s[a[i]+u[i]]=n,c[a[i]+u[i]]=t[i])}return[a,s,c]},numeric.ccsFull=function(e){
var r,t,n,i,o=e[0],u=e[1],a=e[2],s=numeric.ccsDim(e),c=s[0],f=s[1],h=numeric.rep([c,f],0);for(r=0;r<f;r++)for(n=o[r],i=o[r+1],t=n;t<i;++t)h[u[t]][r]=a[t];return h},numeric.ccsTSolve=function(e,r,t,n,i){function o(e){var r;if(0===t[e]){for(t[e]=1,r=u[e];r<u[e+1];++r)o(a[r]);i[h]=e,++h}}var u=e[0],a=e[1],s=e[2],c=u.length-1,f=Math.max,h=0;"undefined"==typeof n&&(t=numeric.rep([c],0)),"undefined"==typeof n&&(n=numeric.linspace(0,t.length-1)),"undefined"==typeof i&&(i=[]);var l,m,d,p,y,v,g;for(l=n.length-1;l!==-1;--l)o(n[l]);for(i.length=h,l=i.length-1;l!==-1;--l)t[i[l]]=0;for(l=n.length-1;l!==-1;--l)m=n[l],t[m]=r[m];for(l=i.length-1;l!==-1;--l){for(m=i[l],d=u[m],p=f(u[m+1],d),y=d;y!==p;++y)if(a[y]===m){t[m]/=s[y];break}for(g=t[m],y=d;y!==p;++y)v=a[y],v!==m&&(t[v]-=g*s[y])}return t},numeric.ccsDFS=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS.prototype.dfs=function(e,r,t,n,i,o){var u,a,s,c=0,f=i.length,h=this.k,l=this.k1,m=this.j;if(0===n[e])for(n[e]=1,m[0]=e,h[0]=a=r[e],l[0]=s=r[e+1];;)if(a>=s){if(i[f]=m[c],0===c)return;++f,--c,a=h[c],s=l[c]}else u=o[t[a]],0===n[u]?(n[u]=1,h[c]=a,++c,m[c]=u,a=r[u],l[c]=s=r[u+1]):++a},numeric.ccsLPSolve=function(e,r,t,n,i,o,u){var a,s,c,f,h,l,m,d,p,y=e[0],v=e[1],g=e[2],b=(y.length-1,r[0]),_=r[1],x=r[2];for(s=b[i],c=b[i+1],n.length=0,a=s;a<c;++a)u.dfs(o[_[a]],y,v,t,n,o);for(a=n.length-1;a!==-1;--a)t[n[a]]=0;for(a=s;a!==c;++a)f=o[_[a]],t[f]=x[a];for(a=n.length-1;a!==-1;--a){for(f=n[a],h=y[f],l=y[f+1],m=h;m<l;++m)if(o[v[m]]===f){t[f]/=g[m];break}for(p=t[f],m=h;m<l;++m)d=o[v[m]],d!==f&&(t[d]-=p*g[m])}return t},numeric.ccsLUP1=function(e,r){var t,n,i,o,u,a,s,c=e[0].length-1,f=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],l=f[0],m=f[1],d=f[2],p=h[0],y=h[1],v=h[2],g=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve,x=(Math.max,Math.abs),M=numeric.linspace(0,c-1),w=numeric.linspace(0,c-1),j=new numeric.ccsDFS(c);for("undefined"==typeof r&&(r=1),t=0;t<c;++t){for(_(f,e,g,b,t,w,j),o=-1,u=-1,n=b.length-1;n!==-1;--n)i=b[n],i<=t||(a=x(g[i]),a>o&&(u=i,o=a));for(x(g[t])<r*o&&(n=M[t],o=M[u],M[t]=o,w[o]=t,M[u]=n,w[n]=u,o=g[t],g[t]=g[u],g[u]=o),o=l[t],u=p[t],s=g[t],m[o]=M[t],d[o]=1,++o,n=b.length-1;n!==-1;--n)i=b[n],a=g[i],b[n]=0,g[i]=0,i<=t?(y[u]=i,v[u]=a,++u):(m[o]=M[i],d[o]=a/s,++o);l[t+1]=o,p[t+1]=u}for(n=m.length-1;n!==-1;--n)m[n]=w[m[n]];return{L:f,U:h,P:M,Pinv:w}},numeric.ccsDFS0=function(e){this.k=Array(e),this.k1=Array(e),this.j=Array(e)},numeric.ccsDFS0.prototype.dfs=function(e,r,t,n,i,o,u){var a,s,c,f=0,h=i.length,l=this.k,m=this.k1,d=this.j;if(0===n[e])for(n[e]=1,d[0]=e,l[0]=s=r[o[e]],m[0]=c=r[o[e]+1];;){if(isNaN(s))throw new Error("Ow!");if(s>=c){if(i[h]=o[d[f]],0===f)return;++h,--f,s=l[f],c=m[f]}else a=t[s],0===n[a]?(n[a]=1,l[f]=s,++f,d[f]=a,a=o[a],s=r[a],m[f]=c=r[a+1]):++s}},numeric.ccsLPSolve0=function(e,r,t,n,i,o,u,a){var s,c,f,h,l,m,d,p,y,v=e[0],g=e[1],b=e[2],_=(v.length-1,r[0]),x=r[1],M=r[2];for(c=_[i],f=_[i+1],n.length=0,s=c;s<f;++s)a.dfs(x[s],v,g,t,n,o,u);for(s=n.length-1;s!==-1;--s)h=n[s],t[u[h]]=0;for(s=c;s!==f;++s)h=x[s],t[h]=M[s];for(s=n.length-1;s!==-1;--s){for(h=n[s],p=u[h],l=v[h],m=v[h+1],d=l;d<m;++d)if(g[d]===p){t[p]/=b[d];break}for(y=t[p],d=l;d<m;++d)t[g[d]]-=y*b[d];t[p]=y}},numeric.ccsLUP0=function(e,r){var t,n,i,o,u,a,s,c=e[0].length-1,f=[numeric.rep([c+1],0),[],[]],h=[numeric.rep([c+1],0),[],[]],l=f[0],m=f[1],d=f[2],p=h[0],y=h[1],v=h[2],g=numeric.rep([c],0),b=numeric.rep([c],0),_=numeric.ccsLPSolve0,x=(Math.max,Math.abs),M=numeric.linspace(0,c-1),w=numeric.linspace(0,c-1),j=new numeric.ccsDFS0(c);for("undefined"==typeof r&&(r=1),t=0;t<c;++t){for(_(f,e,g,b,t,w,M,j),o=-1,u=-1,n=b.length-1;n!==-1;--n)i=b[n],i<=t||(a=x(g[M[i]]),a>o&&(u=i,o=a));for(x(g[M[t]])<r*o&&(n=M[t],o=M[u],M[t]=o,w[o]=t,M[u]=n,w[n]=u),o=l[t],u=p[t],s=g[M[t]],m[o]=M[t],d[o]=1,++o,n=b.length-1;n!==-1;--n)i=b[n],a=g[M[i]],b[n]=0,g[M[i]]=0,i<=t?(y[u]=i,v[u]=a,++u):(m[o]=M[i],d[o]=a/s,++o);l[t+1]=o,p[t+1]=u}for(n=m.length-1;n!==-1;--n)m[n]=w[m[n]];return{L:f,U:h,P:M,Pinv:w}},numeric.ccsLUP=numeric.ccsLUP0,numeric.ccsDim=function(e){return[numeric.sup(e[1])+1,e[0].length-1]},numeric.ccsGetBlock=function(e,r,t){var n=numeric.ccsDim(e),i=n[0],o=n[1];"undefined"==typeof r?r=numeric.linspace(0,i-1):"number"==typeof r&&(r=[r]),"undefined"==typeof t?t=numeric.linspace(0,o-1):"number"==typeof t&&(t=[t]);var u,a,s,c,f,h=r.length,l=t.length,m=numeric.rep([o],0),d=[],p=[],y=[m,d,p],v=e[0],g=e[1],b=e[2],_=numeric.rep([i],0),x=0,M=numeric.rep([i],0);for(a=0;a<l;++a){c=t[a];var w=v[c],j=v[c+1];for(u=w;u<j;++u)s=g[u],M[s]=1,_[s]=b[u];for(u=0;u<h;++u)f=r[u],M[f]&&(d[x]=u,p[x]=_[r[u]],++x);for(u=w;u<j;++u)s=g[u],M[s]=0;m[a+1]=x}return y},numeric.ccsDot=function(e,r){var t,n,i,o,u,a,s,c,f,h,l,m=e[0],d=e[1],p=e[2],y=r[0],v=r[1],g=r[2],b=numeric.ccsDim(e),_=numeric.ccsDim(r),x=b[0],M=(b[1],_[1]),w=numeric.rep([x],0),j=numeric.rep([x],0),k=Array(x),C=numeric.rep([M],0),A=[],S=[],O=[C,A,S];for(i=0;i!==M;++i){for(o=y[i],u=y[i+1],f=0,n=o;n<u;++n)for(h=v[n],l=g[n],a=m[h],s=m[h+1],t=a;t<s;++t)c=d[t],0===j[c]&&(k[f]=c,j[c]=1,f+=1),w[c]=w[c]+p[t]*l;for(o=C[i],u=o+f,C[i+1]=u,n=f-1;n!==-1;--n)l=o+n,t=k[n],A[l]=t,S[l]=w[t],j[t]=0,w[t]=0;C[i+1]=C[i]+f}return O},numeric.ccsLUPSolve=function(e,r){var t=e.L,n=e.U,i=(e.P,r[0]),o=!1;"object"!=("undefined"==typeof i?"undefined":(0,_typeof3["default"])(i))&&(r=[[0,r.length],numeric.linspace(0,r.length-1),r],i=r[0],o=!0);var u,a,s,c,f,h,l=r[1],m=r[2],d=t[0].length-1,p=i.length-1,y=numeric.rep([d],0),v=Array(d),g=numeric.rep([d],0),b=Array(d),_=numeric.rep([p+1],0),x=[],M=[],w=numeric.ccsTSolve,j=0;for(u=0;u<p;++u){for(f=0,s=i[u],c=i[u+1],a=s;a<c;++a)h=e.Pinv[l[a]],b[f]=h,g[h]=m[a],++f;for(b.length=f,w(t,g,y,b,v),a=b.length-1;a!==-1;--a)g[b[a]]=0;if(w(n,y,g,v,b),o)return g;for(a=v.length-1;a!==-1;--a)y[v[a]]=0;for(a=b.length-1;a!==-1;--a)h=b[a],x[j]=h,M[j]=g[h],g[h]=0,++j;_[u+1]=j}return[_,x,M]},numeric.ccsbinop=function(e,r){return"undefined"==typeof r&&(r=""),Function("X","Y","var Xi = X[0], Xj = X[1], Xv = X[2];\nvar Yi = Y[0], Yj = Y[1], Yv = Y[2];\nvar n = Xi.length-1,m = Math.max(numeric.sup(Xj),numeric.sup(Yj))+1;\nvar Zi = numeric.rep([n+1],0), Zj = [], Zv = [];\nvar x = numeric.rep([m],0),y = numeric.rep([m],0);\nvar xk,yk,zk;\nvar i,j,j0,j1,k,p=0;\n"+r+"for(i=0;i<n;++i) {\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Xj[j];\n    x[k] = 1;\n    Zj[p] = k;\n    ++p;\n  }\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Yj[j];\n    y[k] = Yv[j];\n    if(x[k] === 0) {\n      Zj[p] = k;\n      ++p;\n    }\n  }\n  Zi[i+1] = p;\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = Xv[j];\n  j0 = Zi[i]; j1 = Zi[i+1];\n  for(j=j0;j!==j1;++j) {\n    k = Zj[j];\n    xk = x[k];\n    yk = y[k];\n"+e+"\n    Zv[j] = zk;\n  }\n  j0 = Xi[i]; j1 = Xi[i+1];\n  for(j=j0;j!==j1;++j) x[Xj[j]] = 0;\n  j0 = Yi[i]; j1 = Yi[i+1];\n  for(j=j0;j!==j1;++j) y[Yj[j]] = 0;\n}\nreturn [Zi,Zj,Zv];")},function(){var k,A,B,C;for(k in numeric.ops2)A=isFinite(eval("1"+numeric.ops2[k]+"0"))?"[Y[0],Y[1],numeric."+k+"(X,Y[2])]":"NaN",B=isFinite(eval("0"+numeric.ops2[k]+"1"))?"[X[0],X[1],numeric."+k+"(X[2],Y)]":"NaN",C=isFinite(eval("1"+numeric.ops2[k]+"0"))&&isFinite(eval("0"+numeric.ops2[k]+"1"))?"numeric.ccs"+k+"MM(X,Y)":"NaN",numeric["ccs"+k+"MM"]=numeric.ccsbinop("zk = xk "+numeric.ops2[k]+"yk;"),numeric["ccs"+k]=Function("X","Y",'if(typeof X === "number") return '+A+';\nif(typeof Y === "number") return '+B+";\nreturn "+C+";\n")}(),numeric.ccsScatter=function(e){var r,t=e[0],n=e[1],i=e[2],o=numeric.sup(n)+1,u=t.length,a=numeric.rep([o],0),s=Array(u),c=Array(u),f=numeric.rep([o],0);for(r=0;r<u;++r)f[n[r]]++;for(r=0;r<o;++r)a[r+1]=a[r]+f[r];var h,l,m=a.slice(0);for(r=0;r<u;++r)l=n[r],h=m[l],s[h]=t[r],c[h]=i[r],m[l]=m[l]+1;return[a,s,c]},numeric.ccsGather=function(e){var r,t,n,i,o,u=e[0],a=e[1],s=e[2],c=u.length-1,f=a.length,h=Array(f),l=Array(f),m=Array(f);for(o=0,r=0;r<c;++r)for(n=u[r],i=u[r+1],t=n;t!==i;++t)l[o]=r,h[o]=a[t],m[o]=s[t],++o;return[h,l,m]},numeric.sdim=function s(e,r,t){if("undefined"==typeof r&&(r=[]),"object"!=("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e)))return r;"undefined"==typeof t&&(t=0),t in r||(r[t]=0),e.length>r[t]&&(r[t]=e.length);var n;for(n in e)e.hasOwnProperty(n)&&s(e[n],r,t+1);return r},numeric.sclone=function c(e,r,t){"undefined"==typeof r&&(r=0),"undefined"==typeof t&&(t=numeric.sdim(e).length);var n,i=Array(e.length);if(r===t-1){for(n in e)e.hasOwnProperty(n)&&(i[n]=e[n]);return i}for(n in e)e.hasOwnProperty(n)&&(i[n]=c(e[n],r+1,t));return i},numeric.sdiag=function(e){var r,t,n=e.length,i=Array(n);for(r=n-1;r>=1;r-=2)t=r-1,i[r]=[],i[r][r]=e[r],i[t]=[],i[t][t]=e[t];return 0===r&&(i[0]=[],i[0][0]=e[r]),i},numeric.sidentity=function(e){return numeric.sdiag(numeric.rep([e],1))},numeric.stranspose=function(e){var r,t,n,i=[];e.length;for(r in e)if(e.hasOwnProperty(r)){n=e[r];for(t in n)n.hasOwnProperty(t)&&("object"!=(0,_typeof3["default"])(i[t])&&(i[t]=[]),i[t][r]=n[t])}return i},numeric.sLUP=function(e,r){throw new Error("The function numeric.sLUP had a bug in it and has been removed. Please use the new numeric.ccsLUP function instead.")},numeric.sdotMM=function(e,r){var t,n,i,o,u,a,s,c=e.length,f=(r.length,numeric.stranspose(r)),h=f.length,l=Array(c);for(i=c-1;i>=0;i--){for(s=[],t=e[i],u=h-1;u>=0;u--){a=0,n=f[u];for(o in t)t.hasOwnProperty(o)&&o in n&&(a+=t[o]*n[o]);a&&(s[u]=a)}l[i]=s}return l},numeric.sdotMV=function(e,r){var t,n,i,o,u=e.length,a=Array(u);for(n=u-1;n>=0;n--){t=e[n],o=0;for(i in t)t.hasOwnProperty(i)&&r[i]&&(o+=t[i]*r[i]);o&&(a[n]=o)}return a},numeric.sdotVM=function(e,r){var t,n,i,o,u=[];for(t in e)if(e.hasOwnProperty(t)){i=r[t],o=e[t];for(n in i)i.hasOwnProperty(n)&&(u[n]||(u[n]=0),u[n]+=o*i[n])}return u},numeric.sdotVV=function(e,r){var t,n=0;for(t in e)e[t]&&r[t]&&(n+=e[t]*r[t]);return n},numeric.sdot=function(e,r){var t=numeric.sdim(e).length,n=numeric.sdim(r).length,i=1e3*t+n;switch(i){case 0:return e*r;case 1001:return numeric.sdotVV(e,r);case 2001:return numeric.sdotMV(e,r);case 1002:return numeric.sdotVM(e,r);case 2002:return numeric.sdotMM(e,r);default:throw new Error("numeric.sdot not implemented for tensors of order "+t+" and "+n)}},numeric.sscatter=function(e){var r,t,n,i,o=e[0].length,u=e.length,a=[];for(t=o-1;t>=0;--t)if(e[u-1][t]){for(i=a,n=0;n<u-2;n++)r=e[n][t],i[r]||(i[r]=[]),i=i[r];i[e[n][t]]=e[n+1][t]}return a},numeric.sgather=function f(e,r,t){"undefined"==typeof r&&(r=[]),"undefined"==typeof t&&(t=[]);var n,i,o;n=t.length;for(i in e)if(e.hasOwnProperty(i))if(t[n]=parseInt(i),o=e[i],"number"==typeof o){if(o){if(0===r.length)for(i=n+1;i>=0;--i)r[i]=[];for(i=n;i>=0;--i)r[i].push(t[i]);r[n+1].push(o)}}else f(o,r,t);return t.length>n&&t.pop(),r},numeric.cLU=function(e){var r,t,n,i,o,u,a=e[0],s=e[1],c=e[2],f=a.length,h=0;for(r=0;r<f;r++)a[r]>h&&(h=a[r]);h++;var l,m,d,p=Array(h),y=Array(h),v=numeric.rep([h],1/0),g=numeric.rep([h],-(1/0));for(n=0;n<f;n++)r=a[n],t=s[n],t<v[r]&&(v[r]=t),t>g[r]&&(g[r]=t);for(r=0;r<h-1;r++)g[r]>g[r+1]&&(g[r+1]=g[r]);for(r=h-1;r>=1;r--)v[r]<v[r-1]&&(v[r-1]=v[r]);var b=0,_=0;for(r=0;r<h;r++)y[r]=numeric.rep([g[r]-v[r]+1],0),p[r]=numeric.rep([r-v[r]],0),b+=r-v[r]+1,_+=g[r]-r+1;for(n=0;n<f;n++)r=a[n],y[r][s[n]-v[r]]=c[n];for(r=0;r<h-1;r++)for(i=r-v[r],l=y[r],t=r+1;v[t]<=r&&t<h;t++)if(o=r-v[t],u=g[r]-r,m=y[t],d=m[o]/l[i],d){for(n=1;n<=u;n++)m[n+o]-=d*l[n+i];p[t][r-v[t]]=d}var f,x,M,l=[],m=[],w=[],j=[],k=[],C=[];for(f=0,x=0,r=0;r<h;r++){for(i=v[r],o=g[r],M=y[r],t=r;t<=o;t++)M[t-i]&&(l[f]=r,m[f]=t,w[f]=M[t-i],f++);for(M=p[r],t=i;t<r;t++)M[t-i]&&(j[x]=r,k[x]=t,C[x]=M[t-i],x++);j[x]=r,k[x]=r,C[x]=1,x++}return{U:[l,m,w],L:[j,k,C]}},numeric.cLUsolve=function(e,r){var t,n,i=e.L,o=e.U,u=numeric.clone(r),a=i[0],s=i[1],c=i[2],f=o[0],h=o[1],l=o[2],m=f.length,d=(a.length,u.length);for(n=0,t=0;t<d;t++){for(;s[n]<t;)u[t]-=c[n]*u[s[n]],n++;n++}for(n=m-1,t=d-1;t>=0;t--){for(;h[n]>t;)u[t]-=l[n]*u[h[n]],n--;u[t]/=l[n],n--}return u},numeric.cgrid=function(e,r){"number"==typeof e&&(e=[e,e]);var t,n,i,o=numeric.rep(e,-1);if("function"!=typeof r)switch(r){case"L":r=function(r,t){return r>=e[0]/2||t<e[1]/2};break;default:r=function(e,r){return!0}}for(i=0,t=1;t<e[0]-1;t++)for(n=1;n<e[1]-1;n++)r(t,n)&&(o[t][n]=i,i++);return o},numeric.cdelsq=function(e){var r,t,n,i,o,u=[[-1,0],[0,-1],[0,1],[1,0]],a=numeric.dim(e),s=a[0],c=a[1],f=[],h=[],l=[];for(r=1;r<s-1;r++)for(t=1;t<c-1;t++)if(!(e[r][t]<0)){for(n=0;n<4;n++)i=r+u[n][0],o=t+u[n][1],e[i][o]<0||(f.push(e[r][t]),h.push(e[i][o]),l.push(-1));f.push(e[r][t]),h.push(e[r][t]),l.push(4)}return[f,h,l]},numeric.cdotMV=function(e,r){var t,n,i,o=e[0],u=e[1],a=e[2],s=o.length;for(i=0,n=0;n<s;n++)o[n]>i&&(i=o[n]);for(i++,t=numeric.rep([i],0),n=0;n<s;n++)t[o[n]]+=a[n]*r[u[n]];return t},numeric.Spline=function(e,r,t,n,i){this.x=e,this.yl=r,this.yr=t,this.kl=n,this.kr=i},numeric.Spline.prototype._at=function(e,r){var e,t,n,i,o=this.x,u=this.yl,a=this.yr,s=this.kl,c=this.kr,f=numeric.add,h=numeric.sub,l=numeric.mul;t=h(l(s[r],o[r+1]-o[r]),h(a[r+1],u[r])),n=f(l(c[r+1],o[r]-o[r+1]),h(a[r+1],u[r])),i=(e-o[r])/(o[r+1]-o[r]);var m=i*(1-i);return f(f(f(l(1-i,u[r]),l(i,a[r+1])),l(t,m*(1-i))),l(n,m*i))},numeric.Spline.prototype.at=function(e){if("number"==typeof e){var r,t,n,i=this.x,o=i.length,u=Math.floor;for(r=0,t=o-1;t-r>1;)n=u((r+t)/2),i[n]<=e?r=n:t=n;return this._at(e,r)}var a,o=e.length,s=Array(o);for(a=o-1;a!==-1;--a)s[a]=this.at(e[a]);return s},numeric.Spline.prototype.diff=function(){var e,r,t,n=this.x,i=this.yl,o=this.yr,u=this.kl,a=this.kr,s=i.length,c=u,f=a,h=Array(s),l=Array(s),m=numeric.add,d=numeric.mul,p=numeric.div,y=numeric.sub;for(e=s-1;e!==-1;--e)r=n[e+1]-n[e],t=y(o[e+1],i[e]),h[e]=p(m(d(t,6),d(u[e],-4*r),d(a[e+1],-2*r)),r*r),l[e+1]=p(m(d(t,-6),d(u[e],2*r),d(a[e+1],4*r)),r*r);return new numeric.Spline(n,c,f,h,l)},numeric.Spline.prototype.roots=function(){function e(e){return e*e}var r=[],t=this.x,n=this.yl,i=this.yr,o=this.kl,u=this.kr;"number"==typeof n[0]&&(n=[n],i=[i],o=[o],u=[u]);var a,s,c,f,h,l,m,d,p,y,v,g,b,_,x,M,w,j,k,C,A,S,O,P,T=n.length,N=t.length-1,r=Array(T),F=Math.sqrt;for(a=0;a!==T;++a){for(f=n[a],h=i[a],l=o[a],m=u[a],d=[],s=0;s!==N;s++){for(s>0&&h[s]*f[s]<0&&d.push(t[s]),M=t[s+1]-t[s],w=t[s],v=f[s],g=h[s+1],p=l[s]/M,y=m[s+1]/M,x=e(p-y+3*(v-g))+12*y*v,b=y+3*v+2*p-3*g,_=3*(y+p+2*(v-g)),x<=0?(k=b/_,j=k>t[s]&&k<t[s+1]?[t[s],k,t[s+1]]:[t[s],t[s+1]]):(k=(b-F(x))/_,C=(b+F(x))/_,j=[t[s]],k>t[s]&&k<t[s+1]&&j.push(k),C>t[s]&&C<t[s+1]&&j.push(C),j.push(t[s+1])),S=j[0],k=this._at(S,s),c=0;c<j.length-1;c++)if(O=j[c+1],C=this._at(O,s),0!==k)if(0===C||k*C>0)S=O,k=C;else{for(var q=0;P=(k*O-C*S)/(k-C),!(P<=S||P>=O);)if(A=this._at(P,s),A*C>0)O=P,C=A,q===-1&&(k*=.5),q=-1;else{if(!(A*k>0))break;S=P,k=A,1===q&&(C*=.5),q=1}d.push(P),S=j[c+1],k=this._at(S,s)}else d.push(S),S=O,k=C;0===C&&d.push(O)}r[a]=d}return"number"==typeof this.yl[0]?r[0]:r},numeric.spline=function(e,r,t,n){var i,o=e.length,u=[],a=[],s=[],c=numeric.sub,f=numeric.mul,h=numeric.add;for(i=o-2;i>=0;i--)a[i]=e[i+1]-e[i],s[i]=c(r[i+1],r[i]);"string"!=typeof t&&"string"!=typeof n||(t=n="periodic");var l=[[],[],[]];switch("undefined"==typeof t?"undefined":(0,_typeof3["default"])(t)){case"undefined":u[0]=f(3/(a[0]*a[0]),s[0]),l[0].push(0,0),l[1].push(0,1),l[2].push(2/a[0],1/a[0]);break;case"string":u[0]=h(f(3/(a[o-2]*a[o-2]),s[o-2]),f(3/(a[0]*a[0]),s[0])),l[0].push(0,0,0),l[1].push(o-2,0,1),l[2].push(1/a[o-2],2/a[o-2]+2/a[0],1/a[0]);break;default:u[0]=t,l[0].push(0),l[1].push(0),l[2].push(1)}for(i=1;i<o-1;i++)u[i]=h(f(3/(a[i-1]*a[i-1]),s[i-1]),f(3/(a[i]*a[i]),s[i])),l[0].push(i,i,i),l[1].push(i-1,i,i+1),l[2].push(1/a[i-1],2/a[i-1]+2/a[i],1/a[i]);switch("undefined"==typeof n?"undefined":(0,_typeof3["default"])(n)){case"undefined":u[o-1]=f(3/(a[o-2]*a[o-2]),s[o-2]),l[0].push(o-1,o-1),l[1].push(o-2,o-1),l[2].push(1/a[o-2],2/a[o-2]);break;case"string":l[1][l[1].length-1]=0;break;default:u[o-1]=n,l[0].push(o-1),l[1].push(o-1),l[2].push(1)}u="number"!=typeof u[0]?numeric.transpose(u):[u];var m=Array(u.length);if("string"==typeof t)for(i=m.length-1;i!==-1;--i)m[i]=numeric.ccsLUPSolve(numeric.ccsLUP(numeric.ccsScatter(l)),u[i]),m[i][o-1]=m[i][0];else for(i=m.length-1;i!==-1;--i)m[i]=numeric.cLUsolve(numeric.cLU(l),u[i]);return m="number"==typeof r[0]?m[0]:numeric.transpose(m),new numeric.Spline(e,r,r,m,m)},numeric.fftpow2=function h(e,r){var t=e.length;if(1!==t){var n,i,o=Math.cos,u=Math.sin,a=Array(t/2),s=Array(t/2),c=Array(t/2),f=Array(t/2);for(i=t/2,n=t-1;n!==-1;--n)--i,c[i]=e[n],f[i]=r[n],--n,a[i]=e[n],s[i]=r[n];h(a,s),h(c,f),i=t/2;var l,m,d,p=-6.283185307179586/t;for(n=t-1;n!==-1;--n)--i,i===-1&&(i=t/2-1),l=p*n,m=o(l),d=u(l),e[n]=a[i]+m*c[i]-d*f[i],r[n]=s[i]+m*f[i]+d*c[i]}},numeric._ifftpow2=function l(e,r){var t=e.length;if(1!==t){var n,i,o=Math.cos,u=Math.sin,a=Array(t/2),s=Array(t/2),c=Array(t/2),f=Array(t/2);for(i=t/2,n=t-1;n!==-1;--n)--i,c[i]=e[n],f[i]=r[n],--n,a[i]=e[n],s[i]=r[n];l(a,s),l(c,f),i=t/2;var h,m,d,p=6.283185307179586/t;for(n=t-1;n!==-1;--n)--i,i===-1&&(i=t/2-1),h=p*n,m=o(h),d=u(h),e[n]=a[i]+m*c[i]-d*f[i],r[n]=s[i]+m*f[i]+d*c[i]}},numeric.ifftpow2=function(e,r){numeric._ifftpow2(e,r),numeric.diveq(e,e.length),numeric.diveq(r,r.length)},numeric.convpow2=function(e,r,t,n){numeric.fftpow2(e,r),numeric.fftpow2(t,n);var i,o,u,a,s,c=e.length;for(i=c-1;i!==-1;--i)o=e[i],a=r[i],u=t[i],s=n[i],e[i]=o*u-a*s,r[i]=o*s+a*u;numeric.ifftpow2(e,r)},numeric.T.prototype.fft=function(){var e,r,t=this.x,n=this.y,i=t.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),s=Math.pow(2,a),c=numeric.rep([s],0),f=numeric.rep([s],0),h=Math.cos,l=Math.sin,m=-3.141592653589793/i,d=numeric.rep([s],0),p=numeric.rep([s],0);Math.floor(i/2);for(e=0;e<i;e++)d[e]=t[e];if("undefined"!=typeof n)for(e=0;e<i;e++)p[e]=n[e];for(c[0]=1,e=1;e<=s/2;e++)r=m*e*e,c[e]=h(r),f[e]=l(r),c[s-e]=h(r),f[s-e]=l(r);var y=new numeric.T(d,p),v=new numeric.T(c,f);return y=y.mul(v),numeric.convpow2(y.x,y.y,numeric.clone(v.x),numeric.neg(v.y)),y=y.mul(v),y.x.length=i,y.y.length=i,y},numeric.T.prototype.ifft=function(){var e,r,t=this.x,n=this.y,i=t.length,o=Math.log,u=o(2),a=Math.ceil(o(2*i-1)/u),s=Math.pow(2,a),c=numeric.rep([s],0),f=numeric.rep([s],0),h=Math.cos,l=Math.sin,m=3.141592653589793/i,d=numeric.rep([s],0),p=numeric.rep([s],0);Math.floor(i/2);for(e=0;e<i;e++)d[e]=t[e];if("undefined"!=typeof n)for(e=0;e<i;e++)p[e]=n[e];for(c[0]=1,e=1;e<=s/2;e++)r=m*e*e,c[e]=h(r),f[e]=l(r),c[s-e]=h(r),f[s-e]=l(r);var y=new numeric.T(d,p),v=new numeric.T(c,f);return y=y.mul(v),numeric.convpow2(y.x,y.y,numeric.clone(v.x),numeric.neg(v.y)),y=y.mul(v),y.x.length=i,y.y.length=i,y.div(i)},numeric.gradient=function(e,r){var t=r.length,n=e(r);if(isNaN(n))throw new Error("gradient: f(x) is a NaN!");var i,o,u,a,s,c,f,h,l,m,d=Math.max,p=numeric.clone(r),y=Array(t),d=(numeric.div,numeric.sub,Math.max),v=.001,g=Math.abs,b=Math.min,_=0;for(i=0;i<t;i++)for(var x=d(1e-6*n,1e-8);;){if(++_,_>20)throw new Error("Numerical gradient fails");if(p[i]=r[i]+x,o=e(p),p[i]=r[i]-x,u=e(p),p[i]=r[i],isNaN(o)||isNaN(u))x/=16;else{if(y[i]=(o-u)/(2*x),s=r[i]-x,c=r[i],f=r[i]+x,h=(o-n)/x,l=(n-u)/x,m=d(g(y[i]),g(n),g(o),g(u),g(s),g(c),g(f),1e-8),a=b(d(g(h-y[i]),g(l-y[i]),g(h-l))/m,x/m),!(a>v))break;x/=16}}return y},numeric.uncmin=function(e,r,t,n,i,o,u){var a=numeric.gradient;"undefined"==typeof u&&(u={}),"undefined"==typeof t&&(t=1e-8),"undefined"==typeof n&&(n=function(r){return a(e,r)}),"undefined"==typeof i&&(i=1e3),r=numeric.clone(r);var s,c,f=r.length,h=e(r);if(isNaN(h))throw new Error("uncmin: f(x0) is a NaN!");var l=Math.max,m=numeric.norm2;t=l(t,numeric.epsilon);var d,p,y,v,g,b,_,x,M,w,j=u.Hinv||numeric.identity(f),k=numeric.dot,C=(numeric.inv,numeric.sub),A=numeric.add,S=numeric.tensor,O=numeric.div,P=numeric.mul,T=numeric.all,N=numeric.isFinite,F=numeric.neg,q=0,B="";for(p=n(r);q<i;){if("function"==typeof o&&o(q,r,h,p,j)){B="Callback returned true";break}if(!T(N(p))){B="Gradient has Infinity or NaN";break}if(d=F(k(j,p)),!T(N(d))){B="Search direction has Infinity or NaN";break}if(w=m(d),w<t){B="Newton step smaller than tol";break}for(M=1,c=k(p,d),g=r;q<i&&!(M*w<t)&&(v=P(d,M),g=A(r,v),s=e(g),s-h>=.1*M*c||isNaN(s));)M*=.5,++q;if(M*w<t){B="Line search step size smaller than tol";break}if(q===i){B="maxit reached during line search";break}y=n(g),b=C(y,p),x=k(b,v),_=k(j,b),j=C(A(j,P((x+k(b,_))/(x*x),S(v,v))),O(A(S(_,v),S(v,_)),x)),r=g,h=s,p=y,++q}return{solution:r,f:h,gradient:p,invHessian:j,iterations:q,message:B}},numeric.Dopri=function(e,r,t,n,i,o,u){this.x=e,this.y=r,this.f=t,this.ymid=n,this.iterations=i,this.events=u,this.message=o},numeric.Dopri.prototype._at=function(e,r){function t(e){return e*e}var n,i,o,u,a,s,e,c,f,h,l,m=this,d=m.x,p=m.y,y=m.f,v=m.ymid,g=(d.length,Math.floor,.5),b=numeric.add,_=numeric.mul,x=numeric.sub;return n=d[r],i=d[r+1],u=p[r],a=p[r+1],c=i-n,o=n+g*c,s=v[r],f=x(y[r],_(u,1/(n-o)+2/(n-i))),h=x(y[r+1],_(a,1/(i-o)+2/(i-n))),l=[t(e-i)*(e-o)/t(n-i)/(n-o),t(e-n)*t(e-i)/t(n-o)/t(i-o),t(e-n)*(e-o)/t(i-n)/(i-o),(e-n)*t(e-i)*(e-o)/t(n-i)/(n-o),(e-i)*t(e-n)*(e-o)/t(n-i)/(i-o)],b(b(b(b(_(u,l[0]),_(s,l[1])),_(a,l[2])),_(f,l[3])),_(h,l[4]))},numeric.Dopri.prototype.at=function(e){var r,t,n,i=Math.floor;if("number"!=typeof e){var o=e.length,u=Array(o);for(r=o-1;r!==-1;--r)u[r]=this.at(e[r]);return u}var a=this.x;for(r=0,t=a.length-1;t-r>1;)n=i(.5*(r+t)),a[n]<=e?r=n:t=n;return this._at(e,r)},numeric.dopri=function(e,r,t,n,i,o,u){"undefined"==typeof i&&(i=1e-6),"undefined"==typeof o&&(o=1e3);var a,s,c,f,h,l,m,d,p,y,v,g,b,_=[e],x=[t],M=[n(e,t)],w=[],j=.2,k=[.075,.225],C=[44/45,-56/15,32/9],A=[19372/6561,-25360/2187,64448/6561,-212/729],S=[9017/3168,-355/33,46732/5247,49/176,-5103/18656],O=[35/384,0,500/1113,125/192,-2187/6784,11/84],P=[.10013431883002395,0,.3918321794184259,-.02982460176594817,.05893268337240795,-.04497888809104361,.023904308236133973],T=[.2,.3,.8,8/9,1,1],N=[-71/57600,0,71/16695,-71/1920,17253/339200,-22/525,.025],F=0,q=(r-e)/10,B=0,V=numeric.add,G=numeric.mul,z=(Math.max,Math.min),D=Math.abs,L=numeric.norminf,R=Math.pow,I=numeric.any,E=numeric.lt,H=numeric.and,U=(numeric.sub,new numeric.Dopri(_,x,M,w,(-1),""));for("function"==typeof u&&(v=u(e,t));e<r&&B<o;)if(++B,e+q>r&&(q=r-e),a=n(e+T[0]*q,V(t,G(j*q,M[F]))),s=n(e+T[1]*q,V(V(t,G(k[0]*q,M[F])),G(k[1]*q,a))),c=n(e+T[2]*q,V(V(V(t,G(C[0]*q,M[F])),G(C[1]*q,a)),G(C[2]*q,s))),f=n(e+T[3]*q,V(V(V(V(t,G(A[0]*q,M[F])),G(A[1]*q,a)),G(A[2]*q,s)),G(A[3]*q,c))),h=n(e+T[4]*q,V(V(V(V(V(t,G(S[0]*q,M[F])),G(S[1]*q,a)),G(S[2]*q,s)),G(S[3]*q,c)),G(S[4]*q,f))),p=V(V(V(V(V(t,G(M[F],q*O[0])),G(s,q*O[2])),G(c,q*O[3])),G(f,q*O[4])),G(h,q*O[5])),l=n(e+q,p),m=V(V(V(V(V(G(M[F],q*N[0]),G(s,q*N[2])),G(c,q*N[3])),G(f,q*N[4])),G(h,q*N[5])),G(l,q*N[6])),y="number"==typeof m?D(m):L(m),y>i){if(q=.2*q*R(i/y,.25),e+q===e){U.msg="Step size became too small";break}}else{if(w[F]=V(V(V(V(V(V(t,G(M[F],q*P[0])),G(s,q*P[2])),G(c,q*P[3])),G(f,q*P[4])),G(h,q*P[5])),G(l,q*P[6])),++F,_[F]=e+q,x[F]=p,M[F]=l,"function"==typeof u){var X,Y,Q=e,Z=e+.5*q;if(g=u(Z,w[F-1]),b=H(E(v,0),E(0,g)),I(b)||(Q=Z,Z=e+q,v=g,g=u(Z,p),b=H(E(v,0),E(0,g))),I(b)){for(var W,J,K=0,$=1,ee=1;;){if("number"==typeof v)Y=(ee*g*Q-$*v*Z)/(ee*g-$*v);else for(Y=Z,d=v.length-1;d!==-1;--d)v[d]<0&&g[d]>0&&(Y=z(Y,(ee*g[d]*Q-$*v[d]*Z)/(ee*g[d]-$*v[d])));if(Y<=Q||Y>=Z)break;X=U._at(Y,F-1),J=u(Y,X),W=H(E(v,0),E(0,J)),I(W)?(Z=Y,g=J,b=W,ee=1,K===-1?$*=.5:$=1,K=-1):(Q=Y,v=J,$=1,1===K?ee*=.5:ee=1,K=1)}return p=U._at(.5*(e+Y),F-1),U.f[F]=n(Y,X),U.x[F]=Y,U.y[F]=X,U.ymid[F-1]=p,U.events=b,U.iterations=B,U}}e+=q,t=p,v=g,q=z(.8*q*R(i/y,.25),4*q)}return U.iterations=B,U},numeric.LU=function(e,r){r=r||!1;var t,n,i,o,u,a,s,c,f,h=Math.abs,l=e.length,m=l-1,d=new Array(l);for(r||(e=numeric.clone(e)),i=0;i<l;++i){for(s=i,a=e[i],f=h(a[i]),n=i+1;n<l;++n)o=h(e[n][i]),f<o&&(f=o,s=n);for(d[i]=s,s!=i&&(e[i]=e[s],e[s]=a,a=e[i]),u=a[i],t=i+1;t<l;++t)e[t][i]/=u;for(t=i+1;t<l;++t){for(c=e[t],n=i+1;n<m;++n)c[n]-=c[i]*a[n],++n,c[n]-=c[i]*a[n];n===m&&(c[n]-=c[i]*a[n])}}return{LU:e,P:d}},numeric.LUsolve=function(e,r){var t,n,i,o,u,a=e.LU,s=a.length,c=numeric.clone(r),f=e.P;for(t=s-1;t!==-1;--t)c[t]=r[t];for(t=0;t<s;++t)for(i=f[t],f[t]!==t&&(u=c[t],c[t]=c[i],c[i]=u),o=a[t],n=0;n<t;++n)c[t]-=c[n]*o[n];for(t=s-1;t>=0;--t){for(o=a[t],n=t+1;n<s;++n)c[t]-=c[n]*o[n];c[t]/=o[t]}return c},numeric.solve=function(e,r,t){return numeric.LUsolve(numeric.LU(e,t),r)},numeric.echelonize=function(e){var r,t,n,i,o,u,a,s,c=numeric.dim(e),f=c[0],h=c[1],l=numeric.identity(f),m=Array(f),d=Math.abs,p=numeric.diveq;for(e=numeric.clone(e),r=0;r<f;++r){for(n=0,o=e[r],u=l[r],t=1;t<h;++t)d(o[n])<d(o[t])&&(n=t);for(m[r]=n,p(u,o[n]),p(o,o[n]),t=0;t<f;++t)if(t!==r){for(a=e[t],s=a[n],i=h-1;i!==-1;--i)a[i]-=o[i]*s;for(a=l[t],i=f-1;i!==-1;--i)a[i]-=u[i]*s}}return{I:l,A:e,P:m}},numeric.__solveLP=function(e,r,t,n,i,o,u){var a,s,c,f,h=numeric.sum,l=(numeric.log,numeric.mul),m=numeric.sub,d=numeric.dot,p=numeric.div,y=numeric.add,v=e.length,g=t.length,b=!1,_=0,x=1,M=(numeric.transpose(r),numeric.svd,numeric.transpose),w=(numeric.leq,Math.sqrt),j=Math.abs,k=(numeric.muleq,numeric.norminf,numeric.any,Math.min),C=numeric.all,A=numeric.gt,S=Array(v),O=Array(g),P=(numeric.rep([g],1),numeric.solve),T=m(t,d(r,o)),N=d(e,e);for(c=_;c<i;++c){var F,q;for(F=g-1;F!==-1;--F)O[F]=p(r[F],T[F]);var B=M(O);for(F=v-1;F!==-1;--F)S[F]=h(B[F]);x=.25*j(N/d(e,S));var V=100*w(N/d(S,S));for((!isFinite(x)||x>V)&&(x=V),f=y(e,l(x,S)),s=d(B,O),F=v-1;F!==-1;--F)s[F][F]+=1;q=P(s,p(f,x),!0);var G=p(T,d(r,q)),z=1;for(F=g-1;F!==-1;--F)G[F]<0&&(z=k(z,-.999*G[F]));if(a=m(o,l(q,z)),T=m(t,d(r,a)),!C(A(T,0)))return{solution:o,message:"",iterations:c};if(o=a,x<n)return{solution:a,message:"",iterations:c};if(u){var D=d(e,f),L=d(r,f);for(b=!0,F=g-1;F!==-1;--F)if(D*L[F]<0){b=!1;break}}else b=!(o[v-1]>=0);if(b)return{solution:a,message:"Unbounded",iterations:c}}return{solution:o,message:"maximum iteration count exceeded",iterations:c}},numeric._solveLP=function(e,r,t,n,i){var o,u=e.length,a=t.length,s=(numeric.sum,numeric.log,numeric.mul,numeric.sub),c=numeric.dot,f=(numeric.div,numeric.add,numeric.rep([u],0).concat([1])),h=numeric.rep([a,1],-1),l=numeric.blockMatrix([[r,h]]),m=t,o=numeric.rep([u],0).concat(Math.max(0,numeric.sup(numeric.neg(t)))+1),d=numeric.__solveLP(f,l,m,n,i,o,!1),p=numeric.clone(d.solution);p.length=u;var y=numeric.inf(s(t,c(r,p)));if(y<0)return{solution:NaN,message:"Infeasible",iterations:d.iterations};var v=numeric.__solveLP(e,r,t,n,i-d.iterations,p,!0);return v.iterations+=d.iterations,v},numeric.solveLP=function(e,r,t,n,i,o,u){if("undefined"==typeof u&&(u=1e3),"undefined"==typeof o&&(o=numeric.epsilon),"undefined"==typeof n)return numeric._solveLP(e,r,t,o,u);var a,s=n.length,c=n[0].length,f=r.length,h=numeric.echelonize(n),l=numeric.rep([c],0),m=h.P,d=[];for(a=m.length-1;a!==-1;--a)l[m[a]]=1;for(a=c-1;a!==-1;--a)0===l[a]&&d.push(a);var p=numeric.getRange,y=numeric.linspace(0,s-1),v=numeric.linspace(0,f-1),g=p(n,y,d),b=p(r,v,m),_=p(r,v,d),x=numeric.dot,M=numeric.sub,w=x(b,h.I),j=M(_,x(w,g)),k=M(t,x(w,i)),C=Array(m.length),A=Array(d.length);for(a=m.length-1;a!==-1;--a)C[a]=e[m[a]];for(a=d.length-1;a!==-1;--a)A[a]=e[d[a]];var S=M(A,x(C,x(h.I,g))),O=numeric._solveLP(S,j,k,o,u),P=O.solution;if(P!==P)return O;var T=x(h.I,M(i,x(g,P))),N=Array(e.length);for(a=m.length-1;a!==-1;--a)N[m[a]]=T[a];for(a=d.length-1;a!==-1;--a)N[d[a]]=P[a];return{solution:N,message:O.message,iterations:O.iterations}},numeric.MPStoLP=function(e){function r(r){throw new Error("MPStoLP: "+r+"\nLine "+t+": "+e[t]+"\nCurrent state: "+a[u]+"\n")}e instanceof String&&e.split("\n");var t,n,i,o,u=0,a=["Initial state","NAME","ROWS","COLUMNS","RHS","BOUNDS","ENDATA"],s=e.length,c=0,f={},h=[],l=0,m={},d=0,p=[],y=[],v=[];for(t=0;t<s;++t){i=e[t];var g=i.match(/\S*/g),b=[];for(n=0;n<g.length;++n)""!==g[n]&&b.push(g[n]);if(0!==b.length){for(n=0;n<a.length&&i.substr(0,a[n].length)!==a[n];++n);if(n<a.length){if(u=n,1===n&&(o=b[1]),6===n)return{name:o,c:p,A:numeric.transpose(y),b:v,rows:f,vars:m}}else switch(u){case 0:case 1:r("Unexpected line");case 2:switch(b[0]){case"N":0===c?c=b[1]:r("Two or more N rows");break;case"L":f[b[1]]=l,h[l]=1,v[l]=0,++l;break;case"G":f[b[1]]=l,h[l]=-1,v[l]=0,++l;break;case"E":f[b[1]]=l,h[l]=0,v[l]=0,++l;break;default:r("Parse error "+numeric.prettyPrint(b))}break;case 3:m.hasOwnProperty(b[0])||(m[b[0]]=d,p[d]=0,y[d]=numeric.rep([l],0),++d);var _=m[b[0]];for(n=1;n<b.length;n+=2)if(b[n]!==c){var x=f[b[n]];y[_][x]=(h[x]<0?-1:1)*parseFloat(b[n+1])}else p[_]=parseFloat(b[n+1]);break;case 4:for(n=1;n<b.length;n+=2)v[f[b[n]]]=(h[f[b[n]]]<0?-1:1)*parseFloat(b[n+1]);break;case 5:break;case 6:r("Internal error")}}}r("Reached end of file without ENDATA")},numeric.seedrandom={pow:Math.pow,random:Math.random},function(e,r,t,n,i,o,u){function a(e){var r,n,i=this,o=e.length,u=0,a=i.i=i.j=i.m=0;for(i.S=[],i.c=[],o||(e=[o++]);u<t;)i.S[u]=u++;for(u=0;u<t;u++)r=i.S[u],a=f(a+r+e[u%o]),n=i.S[a],i.S[u]=n,i.S[a]=r;i.g=function(e){var r=i.S,n=f(i.i+1),o=r[n],u=f(i.j+o),a=r[u];r[n]=a,r[u]=o;for(var s=r[f(o+a)];--e;)n=f(n+1),o=r[n],u=f(u+o),a=r[u],r[n]=a,r[u]=o,s=s*t+r[f(o+a)];return i.i=n,i.j=u,s},i.g(t)}function s(e,r,t,n,i){if(t=[],i="undefined"==typeof e?"undefined":(0,_typeof3["default"])(e),r&&"object"==i)for(n in e)if(n.indexOf("S")<5)try{t.push(s(e[n],r-1))}catch(o){}return t.length?t:e+("string"!=i?"\0":"")}function c(e,r,t,n){for(e+="",t=0,n=0;n<e.length;n++)r[f(n)]=f((t^=19*r[f(n)])+e.charCodeAt(n));e="";for(n in r)e+=String.fromCharCode(r[n]);return e}function f(e){return e&t-1}r.seedrandom=function(f,h){var l,m=[];return f=c(s(h?[f,e]:arguments.length?f:[(new Date).getTime(),e,window],3),m),l=new a(m),c(l.S,e),r.random=function(){for(var e=l.g(n),r=u,a=0;e<i;)e=(e+a)*t,r*=t,a=l.g(1);for(;e>=o;)e/=2,r/=2,a>>>=1;return(e+a)/r},f},u=r.pow(t,n),i=r.pow(2,i),o=2*i,c(r.random(),e)}([],numeric.seedrandom,256,6,52),function(e){function r(e){if("object"!=("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e)))return e;var t,n=[],i=e.length;for(t=0;t<i;t++)n[t+1]=r(e[t]);return n}function t(e){if("object"!=("undefined"==typeof e?"undefined":(0,_typeof3["default"])(e)))return e;var r,n=[],i=e.length;for(r=1;r<i;r++)n[r-1]=t(e[r]);return n}function n(e,r,t){var n,i,o,u,a;for(o=1;o<=t;o+=1){for(e[o][o]=1/e[o][o],a=-e[o][o],n=1;n<o;n+=1)e[n][o]=a*e[n][o];if(u=o+1,t<u)break;for(i=u;i<=t;i+=1)for(a=e[o][i],e[o][i]=0,n=1;n<=o;n+=1)e[n][i]=e[n][i]+a*e[n][o]}}function i(e,r,t,n){var i,o,u,a;for(o=1;o<=t;o+=1){for(a=0,i=1;i<o;i+=1)a+=e[i][o]*n[i];n[o]=(n[o]-a)/e[o][o]}for(u=1;u<=t;u+=1)for(o=t+1-u,n[o]=n[o]/e[o][o],a=-n[o],i=1;i<o;i+=1)n[i]=n[i]+a*e[i][o]}function o(e,r,t,n){var i,o,u,a,s,c;for(o=1;o<=t;o+=1){if(n[1]=o,c=0,u=o-1,u<1){if(c=e[o][o]-c,c<=0)break;e[o][o]=Math.sqrt(c)}else{for(a=1;a<=u;a+=1){for(s=e[a][o],i=1;i<a;i+=1)s-=e[i][o]*e[i][a];s/=e[a][a],e[a][o]=s,c+=s*s}if(c=e[o][o]-c,c<=0)break;e[o][o]=Math.sqrt(c)}n[1]=0}}function u(e,r,t,u,a,s,c,f,h,l,m,d,p,y,v,g){function b(){for(y[1]=y[1]+1,C=F,j=1;j<=l;j+=1){for(C+=1,D=-f[j],k=1;k<=u;k+=1)D+=c[k][j]*a[k];if(Math.abs(D)<Y&&(D=0),j>m)v[C]=D;else if(v[C]=-Math.abs(D),D>0){for(k=1;k<=u;k+=1)c[k][j]=-c[k][j];f[j]=-f[j]}}for(j=1;j<=p;j+=1)v[F+d[j]]=0;for(B=0,z=0,j=1;j<=l;j+=1)v[F+j]<z*v[G+j]&&(B=j,z=v[F+j]/v[G+j]);return 0===B?999:0}function _(){for(j=1;j<=u;j+=1){for(D=0,k=1;k<=u;k+=1)D+=e[k][j]*c[k][B];v[j]=D}for(A=P,j=1;j<=u;j+=1)v[A+j]=0;for(k=p+1;k<=u;k+=1)for(j=1;j<=u;j+=1)v[A+j]=v[A+j]+e[j][k]*v[k];for(U=!0,j=p;j>=1;j-=1){for(D=v[j],C=N+j*(j+3)/2,A=C-j,k=j+1;k<=p;k+=1)D-=v[C]*v[T+k],C+=k;if(D/=v[A],v[T+j]=D,d[j]<m)break;if(D<0)break;U=!1,O=j}if(!U)for(L=v[q+O]/v[T+O],j=1;j<=p&&!(d[j]<m)&&!(v[T+j]<0);j+=1)z=v[q+j]/v[T+j],z<L&&(L=z,O=j);for(D=0,j=P+1;j<=P+u;j+=1)D+=v[j]*v[j];if(Math.abs(D)<=Y){if(U)return g[1]=1,999;for(j=1;j<=p;j+=1)v[q+j]=v[q+j]-L*v[T+j];return v[q+p+1]=v[q+p+1]+L,700}for(D=0,j=1;j<=u;j+=1)D+=v[P+j]*c[j][B];for(R=-v[F+B]/D,X=!0,U||L<R&&(R=L,X=!1),j=1;j<=u;j+=1)a[j]=a[j]+R*v[P+j],Math.abs(a[j])<Y&&(a[j]=0);for(s[1]=s[1]+R*D*(R/2+v[q+p+1]),j=1;j<=p;j+=1)v[q+j]=v[q+j]-R*v[T+j];if(v[q+p+1]=v[q+p+1]+R,!X){for(D=-f[B],k=1;k<=u;k+=1)D+=a[k]*c[k][B];if(B>m)v[F+B]=D;else if(v[F+B]=-Math.abs(D),
D>0){for(k=1;k<=u;k+=1)c[k][B]=-c[k][B];f[B]=-f[B]}return 700}for(p+=1,d[p]=B,C=N+(p-1)*p/2+1,j=1;j<=p-1;j+=1)v[C]=v[j],C+=1;if(p===u)v[C]=v[u];else{for(j=u;j>=p+1&&0!==v[j]&&(I=Math.max(Math.abs(v[j-1]),Math.abs(v[j])),E=Math.min(Math.abs(v[j-1]),Math.abs(v[j])),z=v[j-1]>=0?Math.abs(I*Math.sqrt(1+E*E/(I*I))):-Math.abs(I*Math.sqrt(1+E*E/(I*I))),I=v[j-1]/z,E=v[j]/z,1!==I);j-=1)if(0===I)for(v[j-1]=E*z,k=1;k<=u;k+=1)z=e[k][j-1],e[k][j-1]=e[k][j],e[k][j]=z;else for(v[j-1]=z,H=E/(1+I),k=1;k<=u;k+=1)z=I*e[k][j-1]+E*e[k][j],e[k][j]=H*(e[k][j-1]+z)-e[k][j],e[k][j-1]=z;v[C]=v[p]}return 0}function x(){if(C=N+O*(O+1)/2+1,A=C+O,0===v[A])return 798;if(I=Math.max(Math.abs(v[A-1]),Math.abs(v[A])),E=Math.min(Math.abs(v[A-1]),Math.abs(v[A])),z=v[A-1]>=0?Math.abs(I*Math.sqrt(1+E*E/(I*I))):-Math.abs(I*Math.sqrt(1+E*E/(I*I))),I=v[A-1]/z,E=v[A]/z,1===I)return 798;if(0===I){for(j=O+1;j<=p;j+=1)z=v[A-1],v[A-1]=v[A],v[A]=z,A+=j;for(j=1;j<=u;j+=1)z=e[j][O],e[j][O]=e[j][O+1],e[j][O+1]=z}else{for(H=E/(1+I),j=O+1;j<=p;j+=1)z=I*v[A-1]+E*v[A],v[A]=H*(v[A-1]+z)-v[A],v[A-1]=z,A+=j;for(j=1;j<=u;j+=1)z=I*e[j][O]+E*e[j][O+1],e[j][O+1]=H*(e[j][O]+z)-e[j][O+1],e[j][O]=z}return 0}function M(){for(A=C-O,j=1;j<=O;j+=1)v[A]=v[C],C+=1,A+=1;return v[q+O]=v[q+O+1],d[O]=d[O+1],O+=1,O<p?797:0}function w(){return v[q+p]=v[q+p+1],v[q+p+1]=0,d[p]=0,p-=1,y[2]=y[2]+1,0}var j,k,C,A,S,O,P,T,N,F,q,B,V,G,z,D,L,R,I,E,H,U,X,Y,Q,Z,W;V=Math.min(u,l),C=2*u+V*(V+5)/2+2*l+1,Y=1e-60;do Y+=Y,Q=1+.1*Y,Z=1+.2*Y;while(Q<=1||Z<=1);for(j=1;j<=u;j+=1)v[j]=r[j];for(j=u+1;j<=C;j+=1)v[j]=0;for(j=1;j<=l;j+=1)d[j]=0;if(S=[],0===g[1]){if(o(e,t,u,S),0!==S[1])return void(g[1]=2);i(e,t,u,r),n(e,t,u)}else{for(k=1;k<=u;k+=1)for(a[k]=0,j=1;j<=k;j+=1)a[k]=a[k]+e[j][k]*r[j];for(k=1;k<=u;k+=1)for(r[k]=0,j=k;j<=u;j+=1)r[k]=r[k]+e[k][j]*a[j]}for(s[1]=0,k=1;k<=u;k+=1)for(a[k]=r[k],s[1]=s[1]+v[k]*a[k],v[k]=0,j=k+1;j<=u;j+=1)e[j][k]=0;for(s[1]=-s[1]/2,g[1]=0,P=u,T=P+u,q=T+V,N=q+V+1,F=N+V*(V+1)/2,G=F+l,j=1;j<=l;j+=1){for(D=0,k=1;k<=u;k+=1)D+=c[k][j]*c[k][j];v[G+j]=Math.sqrt(D)}for(p=0,y[1]=0,y[2]=0,W=0;;){if(W=b(),999===W)return;for(;W=_(),0!==W;){if(999===W)return;if(700===W)if(O===p)w();else{for(;x(),W=M(),797===W;);w()}}}}function a(e,n,i,o,a,s){e=r(e),n=r(n),i=r(i);var c,f,h,l,m,d,p=[],y=[],v=[],g=[],b=[];if(a=a||0,s=s?r(s):[void 0,0],o=o?r(o):[],f=e.length-1,h=i[1].length-1,!o)for(c=1;c<=h;c+=1)o[c]=0;for(c=1;c<=h;c+=1)y[c]=0;for(l=0,m=Math.min(f,h),c=1;c<=f;c+=1)v[c]=0;for(p[1]=0,c=1;c<=2*f+m*(m+5)/2+2*h+1;c+=1)g[c]=0;for(c=1;c<=2;c+=1)b[c]=0;return u(e,n,f,f,v,p,i,o,f,h,a,y,l,b,g,s),d="",1===s[1]&&(d="constraints are inconsistent, no solution!"),2===s[1]&&(d="matrix D in quadratic function is not positive definite!"),{solution:t(v),value:t(p),unconstrained_solution:t(n),iterations:t(b),iact:t(y),message:d}}e.solveQP=a}(numeric),numeric.svd=function(e){function r(e,r){return e=Math.abs(e),r=Math.abs(r),e>r?e*Math.sqrt(1+r*r/e/e):0==r?e:r*Math.sqrt(1+e*e/r/r)}var t,n=numeric.epsilon,i=1e-64/n,o=50,u=0,a=0,s=0,c=0,f=0,h=numeric.clone(e),l=h.length,m=h[0].length;if(l<m)throw"Need more rows than columns";var d=new Array(m),p=new Array(m);for(a=0;a<m;a++)d[a]=p[a]=0;var y=numeric.rep([m,m],0),v=0,g=0,b=0,_=0,x=0,M=0,w=0;for(a=0;a<m;a++){for(d[a]=g,w=0,f=a+1,s=a;s<l;s++)w+=h[s][a]*h[s][a];if(w<=i)g=0;else for(v=h[a][a],g=Math.sqrt(w),v>=0&&(g=-g),b=v*g-w,h[a][a]=v-g,s=f;s<m;s++){for(w=0,c=a;c<l;c++)w+=h[c][a]*h[c][s];for(v=w/b,c=a;c<l;c++)h[c][s]+=v*h[c][a]}for(p[a]=g,w=0,s=f;s<m;s++)w+=h[a][s]*h[a][s];if(w<=i)g=0;else{for(v=h[a][a+1],g=Math.sqrt(w),v>=0&&(g=-g),b=v*g-w,h[a][a+1]=v-g,s=f;s<m;s++)d[s]=h[a][s]/b;for(s=f;s<l;s++){for(w=0,c=f;c<m;c++)w+=h[s][c]*h[a][c];for(c=f;c<m;c++)h[s][c]+=w*d[c]}}x=Math.abs(p[a])+Math.abs(d[a]),x>_&&(_=x)}for(a=m-1;a!=-1;a+=-1){if(0!=g){for(b=g*h[a][a+1],s=f;s<m;s++)y[s][a]=h[a][s]/b;for(s=f;s<m;s++){for(w=0,c=f;c<m;c++)w+=h[a][c]*y[c][s];for(c=f;c<m;c++)y[c][s]+=w*y[c][a]}}for(s=f;s<m;s++)y[a][s]=0,y[s][a]=0;y[a][a]=1,g=d[a],f=a}for(a=m-1;a!=-1;a+=-1){for(f=a+1,g=p[a],s=f;s<m;s++)h[a][s]=0;if(0!=g){for(b=h[a][a]*g,s=f;s<m;s++){for(w=0,c=f;c<l;c++)w+=h[c][a]*h[c][s];for(v=w/b,c=a;c<l;c++)h[c][s]+=v*h[c][a]}for(s=a;s<l;s++)h[s][a]=h[s][a]/g}else for(s=a;s<l;s++)h[s][a]=0;h[a][a]+=1}for(n*=_,c=m-1;c!=-1;c+=-1)for(var j=0;j<o;j++){var k=!1;for(f=c;f!=-1;f+=-1){if(Math.abs(d[f])<=n){k=!0;break}if(Math.abs(p[f-1])<=n)break}if(!k){u=0,w=1;var C=f-1;for(a=f;a<c+1&&(v=w*d[a],d[a]=u*d[a],!(Math.abs(v)<=n));a++)for(g=p[a],b=r(v,g),p[a]=b,u=g/b,w=-v/b,s=0;s<l;s++)x=h[s][C],M=h[s][a],h[s][C]=x*u+M*w,h[s][a]=-x*w+M*u}if(M=p[c],f==c){if(M<0)for(p[c]=-M,s=0;s<m;s++)y[s][c]=-y[s][c];break}if(j>=o-1)throw"Error: no convergence.";for(_=p[f],x=p[c-1],g=d[c-1],b=d[c],v=((x-M)*(x+M)+(g-b)*(g+b))/(2*b*x),g=r(v,1),v=v<0?((_-M)*(_+M)+b*(x/(v-g)-b))/_:((_-M)*(_+M)+b*(x/(v+g)-b))/_,u=1,w=1,a=f+1;a<c+1;a++){for(g=d[a],x=p[a],b=w*g,g=u*g,M=r(v,b),d[a-1]=M,u=v/M,w=b/M,v=_*u+g*w,g=-_*w+g*u,b=x*w,x*=u,s=0;s<m;s++)_=y[s][a-1],M=y[s][a],y[s][a-1]=_*u+M*w,y[s][a]=-_*w+M*u;for(M=r(v,b),p[a-1]=M,u=v/M,w=b/M,v=u*g+w*x,_=-w*g+u*x,s=0;s<l;s++)x=h[s][a-1],M=h[s][a],h[s][a-1]=x*u+M*w,h[s][a]=-x*w+M*u}d[f]=0,d[c]=v,p[c]=_}for(a=0;a<p.length;a++)p[a]<n&&(p[a]=0);for(a=0;a<m;a++)for(s=a-1;s>=0;s--)if(p[s]<p[a]){for(u=p[s],p[s]=p[a],p[a]=u,c=0;c<h.length;c++)t=h[c][a],h[c][a]=h[c][s],h[c][s]=t;for(c=0;c<y.length;c++)t=y[c][a],y[c][a]=y[c][s],y[c][s]=t;a=s}return{U:h,S:p,V:y}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"babel-runtime/helpers/typeof":22}],17:[function(e,r,t){r.exports={"default":e("core-js/library/fn/object/define-property"),__esModule:!0}},{"core-js/library/fn/object/define-property":23}],18:[function(e,r,t){r.exports={"default":e("core-js/library/fn/symbol"),__esModule:!0}},{"core-js/library/fn/symbol":24}],19:[function(e,r,t){r.exports={"default":e("core-js/library/fn/symbol/iterator"),__esModule:!0}},{"core-js/library/fn/symbol/iterator":25}],20:[function(e,r,t){"use strict";t.__esModule=!0,t["default"]=function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}},{}],21:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=e("../core-js/object/define-property"),o=n(i);t["default"]=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,o["default"])(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}()},{"../core-js/object/define-property":17}],22:[function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var i=e("../core-js/symbol/iterator"),o=n(i),u=e("../core-js/symbol"),a=n(u),s="function"==typeof a["default"]&&"symbol"==typeof o["default"]?function(e){return typeof e}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":typeof e};t["default"]="function"==typeof a["default"]&&"symbol"===s(o["default"])?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof a["default"]&&e.constructor===a["default"]?"symbol":"undefined"==typeof e?"undefined":s(e)}},{"../core-js/symbol":18,"../core-js/symbol/iterator":19}],23:[function(e,r,t){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;r.exports=function(e,r,t){return n.defineProperty(e,r,t)}},{"../../modules/_core":31,"../../modules/es6.object.define-property":83}],24:[function(e,r,t){e("../../modules/es6.symbol"),e("../../modules/es6.object.to-string"),e("../../modules/es7.symbol.async-iterator"),e("../../modules/es7.symbol.observable"),r.exports=e("../../modules/_core").Symbol},{"../../modules/_core":31,"../../modules/es6.object.to-string":84,"../../modules/es6.symbol":86,"../../modules/es7.symbol.async-iterator":87,"../../modules/es7.symbol.observable":88}],25:[function(e,r,t){e("../../modules/es6.string.iterator"),e("../../modules/web.dom.iterable"),r.exports=e("../../modules/_wks-ext").f("iterator")},{"../../modules/_wks-ext":80,"../../modules/es6.string.iterator":85,"../../modules/web.dom.iterable":89}],26:[function(e,r,t){r.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],27:[function(e,r,t){r.exports=function(){}},{}],28:[function(e,r,t){var n=e("./_is-object");r.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":47}],29:[function(e,r,t){var n=e("./_to-iobject"),i=e("./_to-length"),o=e("./_to-index");r.exports=function(e){return function(r,t,u){var a,s=n(r),c=i(s.length),f=o(u,c);if(e&&t!=t){for(;c>f;)if(a=s[f++],a!=a)return!0}else for(;c>f;f++)if((e||f in s)&&s[f]===t)return e||f||0;return!e&&-1}}},{"./_to-index":72,"./_to-iobject":74,"./_to-length":75}],30:[function(e,r,t){var n={}.toString;r.exports=function(e){return n.call(e).slice(8,-1)}},{}],31:[function(e,r,t){var n=r.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],32:[function(e,r,t){var n=e("./_a-function");r.exports=function(e,r,t){if(n(e),void 0===r)return e;switch(t){case 1:return function(t){return e.call(r,t)};case 2:return function(t,n){return e.call(r,t,n)};case 3:return function(t,n,i){return e.call(r,t,n,i)}}return function(){return e.apply(r,arguments)}}},{"./_a-function":26}],33:[function(e,r,t){r.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],34:[function(e,r,t){r.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":39}],35:[function(e,r,t){var n=e("./_is-object"),i=e("./_global").document,o=n(i)&&n(i.createElement);r.exports=function(e){return o?i.createElement(e):{}}},{"./_global":40,"./_is-object":47}],36:[function(e,r,t){r.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],37:[function(e,r,t){var n=e("./_object-keys"),i=e("./_object-gops"),o=e("./_object-pie");r.exports=function(e){var r=n(e),t=i.f;if(t)for(var u,a=t(e),s=o.f,c=0;a.length>c;)s.call(e,u=a[c++])&&r.push(u);return r}},{"./_object-gops":61,"./_object-keys":64,"./_object-pie":65}],38:[function(e,r,t){var n=e("./_global"),i=e("./_core"),o=e("./_ctx"),u=e("./_hide"),a="prototype",s=function(e,r,t){var c,f,h,l=e&s.F,m=e&s.G,d=e&s.S,p=e&s.P,y=e&s.B,v=e&s.W,g=m?i:i[r]||(i[r]={}),b=g[a],_=m?n:d?n[r]:(n[r]||{})[a];m&&(t=r);for(c in t)f=!l&&_&&void 0!==_[c],f&&c in g||(h=f?_[c]:t[c],g[c]=m&&"function"!=typeof _[c]?t[c]:y&&f?o(h,n):v&&_[c]==h?function(e){var r=function(r,t,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,t)}return new e(r,t,n)}return e.apply(this,arguments)};return r[a]=e[a],r}(h):p&&"function"==typeof h?o(Function.call,h):h,p&&((g.virtual||(g.virtual={}))[c]=h,e&s.R&&b&&!b[c]&&u(b,c,h)))};s.F=1,s.G=2,s.S=4,s.P=8,s.B=16,s.W=32,s.U=64,s.R=128,r.exports=s},{"./_core":31,"./_ctx":32,"./_global":40,"./_hide":42}],39:[function(e,r,t){r.exports=function(e){try{return!!e()}catch(r){return!0}}},{}],40:[function(e,r,t){var n=r.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],41:[function(e,r,t){var n={}.hasOwnProperty;r.exports=function(e,r){return n.call(e,r)}},{}],42:[function(e,r,t){var n=e("./_object-dp"),i=e("./_property-desc");r.exports=e("./_descriptors")?function(e,r,t){return n.f(e,r,i(1,t))}:function(e,r,t){return e[r]=t,e}},{"./_descriptors":34,"./_object-dp":56,"./_property-desc":66}],43:[function(e,r,t){r.exports=e("./_global").document&&document.documentElement},{"./_global":40}],44:[function(e,r,t){r.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":34,"./_dom-create":35,"./_fails":39}],45:[function(e,r,t){var n=e("./_cof");r.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":30}],46:[function(e,r,t){var n=e("./_cof");r.exports=Array.isArray||function(e){return"Array"==n(e)}},{"./_cof":30}],47:[function(e,r,t){r.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],48:[function(e,r,t){"use strict";var n=e("./_object-create"),i=e("./_property-desc"),o=e("./_set-to-string-tag"),u={};e("./_hide")(u,e("./_wks")("iterator"),function(){return this}),r.exports=function(e,r,t){e.prototype=n(u,{next:i(1,t)}),o(e,r+" Iterator")}},{"./_hide":42,"./_object-create":55,"./_property-desc":66,"./_set-to-string-tag":68,"./_wks":81}],49:[function(e,r,t){"use strict";var n=e("./_library"),i=e("./_export"),o=e("./_redefine"),u=e("./_hide"),a=e("./_has"),s=e("./_iterators"),c=e("./_iter-create"),f=e("./_set-to-string-tag"),h=e("./_object-gpo"),l=e("./_wks")("iterator"),m=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",y="values",v=function(){return this};r.exports=function(e,r,t,g,b,_,x){c(t,r,g);var M,w,j,k=function(e){if(!m&&e in O)return O[e];switch(e){case p:return function(){return new t(this,e)};case y:return function(){return new t(this,e)}}return function(){return new t(this,e)}},C=r+" Iterator",A=b==y,S=!1,O=e.prototype,P=O[l]||O[d]||b&&O[b],T=P||k(b),N=b?A?k("entries"):T:void 0,F="Array"==r?O.entries||P:P;if(F&&(j=h(F.call(new e)),j!==Object.prototype&&(f(j,C,!0),n||a(j,l)||u(j,l,v))),A&&P&&P.name!==y&&(S=!0,T=function(){return P.call(this)}),n&&!x||!m&&!S&&O[l]||u(O,l,T),s[r]=T,s[C]=v,b)if(M={values:A?T:k(y),keys:_?T:k(p),entries:N},x)for(w in M)w in O||o(O,w,M[w]);else i(i.P+i.F*(m||S),r,M);return M}},{"./_export":38,"./_has":41,"./_hide":42,"./_iter-create":48,"./_iterators":51,"./_library":53,"./_object-gpo":62,"./_redefine":67,"./_set-to-string-tag":68,"./_wks":81}],50:[function(e,r,t){r.exports=function(e,r){return{value:r,done:!!e}}},{}],51:[function(e,r,t){r.exports={}},{}],52:[function(e,r,t){var n=e("./_object-keys"),i=e("./_to-iobject");r.exports=function(e,r){for(var t,o=i(e),u=n(o),a=u.length,s=0;a>s;)if(o[t=u[s++]]===r)return t}},{"./_object-keys":64,"./_to-iobject":74}],53:[function(e,r,t){r.exports=!0},{}],54:[function(e,r,t){var n=e("./_uid")("meta"),i=e("./_is-object"),o=e("./_has"),u=e("./_object-dp").f,a=0,s=Object.isExtensible||function(){return!0},c=!e("./_fails")(function(){return s(Object.preventExtensions({}))}),f=function(e){u(e,n,{value:{i:"O"+ ++a,w:{}}})},h=function(e,r){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!s(e))return"F";if(!r)return"E";f(e)}return e[n].i},l=function(e,r){if(!o(e,n)){if(!s(e))return!0;if(!r)return!1;f(e)}return e[n].w},m=function(e){return c&&d.NEED&&s(e)&&!o(e,n)&&f(e),e},d=r.exports={KEY:n,NEED:!1,fastKey:h,getWeak:l,onFreeze:m}},{"./_fails":39,"./_has":41,"./_is-object":47,"./_object-dp":56,"./_uid":78}],55:[function(e,r,t){var n=e("./_an-object"),i=e("./_object-dps"),o=e("./_enum-bug-keys"),u=e("./_shared-key")("IE_PROTO"),a=function(){},s="prototype",c=function(){var r,t=e("./_dom-create")("iframe"),n=o.length,i=">";for(t.style.display="none",e("./_html").appendChild(t),t.src="javascript:",r=t.contentWindow.document,r.open(),r.write("<script>document.F=Object</script"+i),r.close(),c=r.F;n--;)delete c[s][o[n]];return c()};r.exports=Object.create||function(e,r){var t;return null!==e?(a[s]=n(e),t=new a,a[s]=null,t[u]=e):t=c(),void 0===r?t:i(t,r)}},{"./_an-object":28,"./_dom-create":35,"./_enum-bug-keys":36,"./_html":43,"./_object-dps":57,"./_shared-key":69}],56:[function(e,r,t){var n=e("./_an-object"),i=e("./_ie8-dom-define"),o=e("./_to-primitive"),u=Object.defineProperty;t.f=e("./_descriptors")?Object.defineProperty:function(e,r,t){if(n(e),r=o(r,!0),n(t),i)try{return u(e,r,t)}catch(a){}if("get"in t||"set"in t)throw TypeError("Accessors not supported!");return"value"in t&&(e[r]=t.value),e}},{"./_an-object":28,"./_descriptors":34,"./_ie8-dom-define":44,"./_to-primitive":77}],57:[function(e,r,t){var n=e("./_object-dp"),i=e("./_an-object"),o=e("./_object-keys");r.exports=e("./_descriptors")?Object.defineProperties:function(e,r){i(e);for(var t,u=o(r),a=u.length,s=0;a>s;)n.f(e,t=u[s++],r[t]);return e}},{"./_an-object":28,"./_descriptors":34,"./_object-dp":56,"./_object-keys":64}],58:[function(e,r,t){var n=e("./_object-pie"),i=e("./_property-desc"),o=e("./_to-iobject"),u=e("./_to-primitive"),a=e("./_has"),s=e("./_ie8-dom-define"),c=Object.getOwnPropertyDescriptor;t.f=e("./_descriptors")?c:function(e,r){if(e=o(e),r=u(r,!0),s)try{return c(e,r)}catch(t){}if(a(e,r))return i(!n.f.call(e,r),e[r])}},{"./_descriptors":34,"./_has":41,"./_ie8-dom-define":44,"./_object-pie":65,"./_property-desc":66,"./_to-iobject":74,"./_to-primitive":77}],59:[function(e,r,t){var n=e("./_to-iobject"),i=e("./_object-gopn").f,o={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(e){try{return i(e)}catch(r){return u.slice()}};r.exports.f=function(e){return u&&"[object Window]"==o.call(e)?a(e):i(n(e))}},{"./_object-gopn":60,"./_to-iobject":74}],60:[function(e,r,t){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},{"./_enum-bug-keys":36,"./_object-keys-internal":63}],61:[function(e,r,t){t.f=Object.getOwnPropertySymbols},{}],62:[function(e,r,t){var n=e("./_has"),i=e("./_to-object"),o=e("./_shared-key")("IE_PROTO"),u=Object.prototype;r.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},{"./_has":41,"./_shared-key":69,"./_to-object":76}],63:[function(e,r,t){var n=e("./_has"),i=e("./_to-iobject"),o=e("./_array-includes")(!1),u=e("./_shared-key")("IE_PROTO");r.exports=function(e,r){var t,a=i(e),s=0,c=[];for(t in a)t!=u&&n(a,t)&&c.push(t);for(;r.length>s;)n(a,t=r[s++])&&(~o(c,t)||c.push(t));return c}},{"./_array-includes":29,"./_has":41,"./_shared-key":69,"./_to-iobject":74}],64:[function(e,r,t){var n=e("./_object-keys-internal"),i=e("./_enum-bug-keys");r.exports=Object.keys||function(e){return n(e,i)}},{"./_enum-bug-keys":36,"./_object-keys-internal":63}],65:[function(e,r,t){t.f={}.propertyIsEnumerable},{}],66:[function(e,r,t){r.exports=function(e,r){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:r}}},{}],67:[function(e,r,t){r.exports=e("./_hide")},{"./_hide":42}],68:[function(e,r,t){var n=e("./_object-dp").f,i=e("./_has"),o=e("./_wks")("toStringTag");r.exports=function(e,r,t){e&&!i(e=t?e:e.prototype,o)&&n(e,o,{configurable:!0,value:r})}},{"./_has":41,"./_object-dp":56,"./_wks":81}],69:[function(e,r,t){var n=e("./_shared")("keys"),i=e("./_uid");r.exports=function(e){return n[e]||(n[e]=i(e))}},{"./_shared":70,"./_uid":78}],70:[function(e,r,t){var n=e("./_global"),i="__core-js_shared__",o=n[i]||(n[i]={});r.exports=function(e){return o[e]||(o[e]={})}},{"./_global":40}],71:[function(e,r,t){var n=e("./_to-integer"),i=e("./_defined");r.exports=function(e){return function(r,t){var o,u,a=String(i(r)),s=n(t),c=a.length;return s<0||s>=c?e?"":void 0:(o=a.charCodeAt(s),o<55296||o>56319||s+1===c||(u=a.charCodeAt(s+1))<56320||u>57343?e?a.charAt(s):o:e?a.slice(s,s+2):(o-55296<<10)+(u-56320)+65536)}}},{"./_defined":33,"./_to-integer":73}],72:[function(e,r,t){var n=e("./_to-integer"),i=Math.max,o=Math.min;r.exports=function(e,r){return e=n(e),e<0?i(e+r,0):o(e,r)}},{"./_to-integer":73}],73:[function(e,r,t){var n=Math.ceil,i=Math.floor;r.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},{}],74:[function(e,r,t){var n=e("./_iobject"),i=e("./_defined");r.exports=function(e){return n(i(e))}},{"./_defined":33,"./_iobject":45}],75:[function(e,r,t){var n=e("./_to-integer"),i=Math.min;r.exports=function(e){return e>0?i(n(e),9007199254740991):0}},{"./_to-integer":73}],76:[function(e,r,t){var n=e("./_defined");r.exports=function(e){return Object(n(e))}},{"./_defined":33}],77:[function(e,r,t){var n=e("./_is-object");r.exports=function(e,r){if(!n(e))return e;var t,i;if(r&&"function"==typeof(t=e.toString)&&!n(i=t.call(e)))return i;if("function"==typeof(t=e.valueOf)&&!n(i=t.call(e)))return i;if(!r&&"function"==typeof(t=e.toString)&&!n(i=t.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":47}],78:[function(e,r,t){var n=0,i=Math.random();r.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},{}],79:[function(e,r,t){var n=e("./_global"),i=e("./_core"),o=e("./_library"),u=e("./_wks-ext"),a=e("./_object-dp").f;r.exports=function(e){var r=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in r||a(r,e,{value:u.f(e)})}},{"./_core":31,"./_global":40,"./_library":53,"./_object-dp":56,"./_wks-ext":80}],80:[function(e,r,t){t.f=e("./_wks")},{"./_wks":81}],81:[function(e,r,t){var n=e("./_shared")("wks"),i=e("./_uid"),o=e("./_global").Symbol,u="function"==typeof o,a=r.exports=function(e){return n[e]||(n[e]=u&&o[e]||(u?o:i)("Symbol."+e))};a.store=n},{"./_global":40,"./_shared":70,"./_uid":78}],82:[function(e,r,t){"use strict";var n=e("./_add-to-unscopables"),i=e("./_iter-step"),o=e("./_iterators"),u=e("./_to-iobject");r.exports=e("./_iter-define")(Array,"Array",function(e,r){this._t=u(e),this._i=0,this._k=r},function(){var e=this._t,r=this._k,t=this._i++;return!e||t>=e.length?(this._t=void 0,i(1)):"keys"==r?i(0,t):"values"==r?i(0,e[t]):i(0,[t,e[t]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},{"./_add-to-unscopables":27,"./_iter-define":49,"./_iter-step":50,"./_iterators":51,"./_to-iobject":74}],83:[function(e,r,t){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":34,"./_export":38,"./_object-dp":56}],84:[function(e,r,t){},{}],85:[function(e,r,t){"use strict";var n=e("./_string-at")(!0);e("./_iter-define")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,r=this._t,t=this._i;return t>=r.length?{value:void 0,done:!0}:(e=n(r,t),this._i+=e.length,{value:e,done:!1})})},{"./_iter-define":49,"./_string-at":71}],86:[function(e,r,t){"use strict";var n=e("./_global"),i=e("./_has"),o=e("./_descriptors"),u=e("./_export"),a=e("./_redefine"),s=e("./_meta").KEY,c=e("./_fails"),f=e("./_shared"),h=e("./_set-to-string-tag"),l=e("./_uid"),m=e("./_wks"),d=e("./_wks-ext"),p=e("./_wks-define"),y=e("./_keyof"),v=e("./_enum-keys"),g=e("./_is-array"),b=e("./_an-object"),_=e("./_to-iobject"),x=e("./_to-primitive"),M=e("./_property-desc"),w=e("./_object-create"),j=e("./_object-gopn-ext"),k=e("./_object-gopd"),C=e("./_object-dp"),A=e("./_object-keys"),S=k.f,O=C.f,P=j.f,T=n.Symbol,N=n.JSON,F=N&&N.stringify,q="prototype",B=m("_hidden"),V=m("toPrimitive"),G={}.propertyIsEnumerable,z=f("symbol-registry"),D=f("symbols"),L=f("op-symbols"),R=Object[q],I="function"==typeof T,E=n.QObject,H=!E||!E[q]||!E[q].findChild,U=o&&c(function(){return 7!=w(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a})?function(e,r,t){var n=S(R,r);n&&delete R[r],O(e,r,t),n&&e!==R&&O(R,r,n)}:O,X=function(e){var r=D[e]=w(T[q]);return r._k=e,r},Y=I&&"symbol"==typeof T.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof T},Q=function(e,r,t){return e===R&&Q(L,r,t),b(e),r=x(r,!0),b(t),i(D,r)?(t.enumerable?(i(e,B)&&e[B][r]&&(e[B][r]=!1),t=w(t,{enumerable:M(0,!1)})):(i(e,B)||O(e,B,M(1,{})),e[B][r]=!0),U(e,r,t)):O(e,r,t)},Z=function(e,r){b(e);for(var t,n=v(r=_(r)),i=0,o=n.length;o>i;)Q(e,t=n[i++],r[t]);return e},W=function(e,r){return void 0===r?w(e):Z(w(e),r)},J=function(e){var r=G.call(this,e=x(e,!0));return!(this===R&&i(D,e)&&!i(L,e))&&(!(r||!i(this,e)||!i(D,e)||i(this,B)&&this[B][e])||r)},K=function(e,r){if(e=_(e),r=x(r,!0),e!==R||!i(D,r)||i(L,r)){var t=S(e,r);return!t||!i(D,r)||i(e,B)&&e[B][r]||(t.enumerable=!0),t}},$=function(e){for(var r,t=P(_(e)),n=[],o=0;t.length>o;)i(D,r=t[o++])||r==B||r==s||n.push(r);return n},ee=function(e){for(var r,t=e===R,n=P(t?L:_(e)),o=[],u=0;n.length>u;)!i(D,r=n[u++])||t&&!i(R,r)||o.push(D[r]);return o};I||(T=function(){if(this instanceof T)throw TypeError("Symbol is not a constructor!");var e=l(arguments.length>0?arguments[0]:void 0),r=function(t){this===R&&r.call(L,t),i(this,B)&&i(this[B],e)&&(this[B][e]=!1),U(this,e,M(1,t))};return o&&H&&U(R,e,{configurable:!0,set:r}),X(e)},a(T[q],"toString",function(){return this._k}),k.f=K,C.f=Q,e("./_object-gopn").f=j.f=$,e("./_object-pie").f=J,e("./_object-gops").f=ee,o&&!e("./_library")&&a(R,"propertyIsEnumerable",J,!0),d.f=function(e){return X(m(e))}),u(u.G+u.W+u.F*!I,{Symbol:T});for(var re="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),te=0;re.length>te;)m(re[te++]);for(var re=A(m.store),te=0;re.length>te;)p(re[te++]);u(u.S+u.F*!I,"Symbol",{"for":function(e){return i(z,e+="")?z[e]:z[e]=T(e)},keyFor:function(e){if(Y(e))return y(z,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){H=!0},useSimple:function(){H=!1}}),u(u.S+u.F*!I,"Object",{create:W,defineProperty:Q,defineProperties:Z,getOwnPropertyDescriptor:K,getOwnPropertyNames:$,getOwnPropertySymbols:ee}),N&&u(u.S+u.F*(!I||c(function(){var e=T();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!Y(e)){for(var r,t,n=[e],i=1;arguments.length>i;)n.push(arguments[i++]);return r=n[1],"function"==typeof r&&(t=r),!t&&g(r)||(r=function(e,r){if(t&&(r=t.call(this,e,r)),!Y(r))return r}),n[1]=r,F.apply(N,n)}}}),T[q][V]||e("./_hide")(T[q],V,T[q].valueOf),h(T,"Symbol"),h(Math,"Math",!0),h(n.JSON,"JSON",!0)},{"./_an-object":28,"./_descriptors":34,"./_enum-keys":37,"./_export":38,"./_fails":39,"./_global":40,"./_has":41,"./_hide":42,"./_is-array":46,"./_keyof":52,"./_library":53,"./_meta":54,"./_object-create":55,"./_object-dp":56,"./_object-gopd":58,"./_object-gopn":60,"./_object-gopn-ext":59,"./_object-gops":61,"./_object-keys":64,"./_object-pie":65,"./_property-desc":66,"./_redefine":67,"./_set-to-string-tag":68,"./_shared":70,"./_to-iobject":74,"./_to-primitive":77,"./_uid":78,"./_wks":81,"./_wks-define":79,"./_wks-ext":80}],87:[function(e,r,t){e("./_wks-define")("asyncIterator")},{"./_wks-define":79}],88:[function(e,r,t){e("./_wks-define")("observable")},{"./_wks-define":79}],89:[function(e,r,t){e("./es6.array.iterator");for(var n=e("./_global"),i=e("./_hide"),o=e("./_iterators"),u=e("./_wks")("toStringTag"),a=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],s=0;s<5;s++){var c=a[s],f=n[c],h=f&&f.prototype;h&&!h[u]&&i(h,u,c),o[c]=o.Array}},{"./_global":40,"./_hide":42,"./_iterators":51,"./_wks":81,"./es6.array.iterator":82}]},{},[14])(14)});